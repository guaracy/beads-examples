<!DOCTYPE html>
<html lang="en"> 
<head>
<meta charset="utf-8"/>
<title>foody</title>
<link rel="shortcut icon" href="favicon.ico" />
<style>
/*  this disables the annoying double click highlighting of DIV blocks  */
div { outline-style:none;}
</style>
</head>
<body style="margin:0; padding:0;">
<script type="module">
import * as std from '../../runtime/beads_std.js';
import { U, Y, N, POP, VAL, VNP, setv, gets, getn, addr } from '../../runtime/beads_std.js';
import * as str from '../../runtime/beads_str.js';
import * as k   from '../../runtime/beads_k.js';
export const CODE_HASH= 0xfdaf1d79;
const _M = "foody";
std.rtl_init();
//STRINGTABLE: LANG_ESP
std.merge_lit(_M, 0, std.LOCALIZED, _M, std.LANG_ESP, 1000, VAL, "⬅  atrás", 1001, VAL, "⬅ Pedir más", 1002, VAL, "⬅ Carrito", 1003, VAL, "Desayuno", 1004, VAL, "Almuerzo"
, 1005, VAL, "Cena", 1006, VAL, "⇪ Salir", 1007, VAL, "Elige una categoría");
std.aaaa.main_init = main_init;
std.aaaa.main_module = "foody";
std.aaaa.main_drawer = new std.a_function("foody", "main_draw", main_draw);
//------- enums
const F_modal_active=9007191493231572; std.g_enum_ss[9007191493231572]="modal_active";
std.FIELDS[F_modal_active] = true;
const R_record_309=9007191078327288; std.g_enum_ss[9007191078327288]="record_309";
const F_cart_items=9007190045048485; std.g_enum_ss[9007190045048485]="cart_items";
std.FIELDS[F_cart_items] = true;
const ITEM=9007192298585300; std.g_enum_ss[9007192298585300]="ITEM";
const F_cooktime=9007192886574565; std.g_enum_ss[9007192886574565]="cooktime";
std.FIELDS[F_cooktime] = true;
const F_coupon=9007191815674666; std.g_enum_ss[9007191815674666]="coupon";
std.FIELDS[F_coupon] = true;
const F_name2=9007192603739411; std.g_enum_ss[9007192603739411]="name2";
std.FIELDS[F_name2] = true;
const F_per_price=9007192475865637; std.g_enum_ss[9007192475865637]="per_price";
std.FIELDS[F_per_price] = true;
const MODE_EDITCARD=9007193277375799; std.g_enum_ss[9007193277375799]="MODE_EDITCARD";
const F_discount_item=9007190868615891; std.g_enum_ss[9007190868615891]="discount_item";
std.FIELDS[F_discount_item] = true;
const MODE_RECENT=9007193165238466; std.g_enum_ss[9007193165238466]="MODE_RECENT";
const F_prefix=9007191484179372; std.g_enum_ss[9007191484179372]="prefix";
std.FIELDS[F_prefix] = true;
const F_cost=9007190061372389; std.g_enum_ss[9007190061372389]="cost";
std.FIELDS[F_cost] = true;
const F_sizes=9007191073305590; std.g_enum_ss[9007191073305590]="sizes";
std.FIELDS[F_sizes] = true;
const R_a_itemlist_rec=9007191609338438; std.g_enum_ss[9007191609338438]="a_itemlist_rec";
const R_a_menu_item=9007191035056503; std.g_enum_ss[9007191035056503]="a_menu_item";
const F_csc=9007192006390071; std.g_enum_ss[9007192006390071]="csc";
std.FIELDS[F_csc] = true;
const F_curr_edit_item=9007190563714265; std.g_enum_ss[9007190563714265]="curr_edit_item";
std.FIELDS[F_curr_edit_item] = true;
const F_ncats=9007194002908551; std.g_enum_ss[9007194002908551]="ncats";
std.FIELDS[F_ncats] = true;
const F_enddate=9007190140195753; std.g_enum_ss[9007190140195753]="enddate";
std.FIELDS[F_enddate] = true;
const F_cooktime_est=9007191280023766; std.g_enum_ss[9007191280023766]="cooktime_est";
std.FIELDS[F_cooktime_est] = true;
const F_bill_err=9007193312688329; std.g_enum_ss[9007193312688329]="bill_err";
std.FIELDS[F_bill_err] = true;
const ORDER_ACK=9007191786647507; std.g_enum_ss[9007191786647507]="ORDER_ACK";
const F_keys=9007190973498228; std.g_enum_ss[9007190973498228]="keys";
std.FIELDS[F_keys] = true;
const F_subcat=9007190948898294; std.g_enum_ss[9007190948898294]="subcat";
std.FIELDS[F_subcat] = true;
const F_meals=9007193970331112; std.g_enum_ss[9007193970331112]="meals";
std.FIELDS[F_meals] = true;
const F_form_ready=9007192518882162; std.g_enum_ss[9007192518882162]="form_ready";
std.FIELDS[F_form_ready] = true;
const MODE_REORDER=9007192828024980; std.g_enum_ss[9007192828024980]="MODE_REORDER";
const F_subcats=9007192385247327; std.g_enum_ss[9007192385247327]="subcats";
std.FIELDS[F_subcats] = true;
const F_sizex=9007191190748923; std.g_enum_ss[9007191190748923]="sizex";
std.FIELDS[F_sizex] = true;
const MODE_CAT_LIST=9007193321193540; std.g_enum_ss[9007193321193540]="MODE_CAT_LIST";
const F_icon=9007192403998961; std.g_enum_ss[9007192403998961]="icon";
std.FIELDS[F_icon] = true;
const MODE_STORE_LIST=9007192932920191; std.g_enum_ss[9007192932920191]="MODE_STORE_LIST";
const F_has_mods=9007193307737216; std.g_enum_ss[9007193307737216]="has_mods";
std.FIELDS[F_has_mods] = true;
const F_name=9007190800402099; std.g_enum_ss[9007190800402099]="name";
std.FIELDS[F_name] = true;
const F_address=9007193795220560; std.g_enum_ss[9007193795220560]="address";
std.FIELDS[F_address] = true;
const F_curr_cat=9007193585593887; std.g_enum_ss[9007193585593887]="curr_cat";
std.FIELDS[F_curr_cat] = true;
const F_tax=9007190562684221; std.g_enum_ss[9007190562684221]="tax";
std.FIELDS[F_tax] = true;
const F_cooktime_actual=9007192577007960; std.g_enum_ss[9007192577007960]="cooktime_actual";
std.FIELDS[F_cooktime_actual] = true;
const MODE_SUBMIT=9007192008723441; std.g_enum_ss[9007192008723441]="MODE_SUBMIT";
const F_addons=9007193825968807; std.g_enum_ss[9007193825968807]="addons";
std.FIELDS[F_addons] = true;
const DEAL_PRICE=9007192892679191; std.g_enum_ss[9007192892679191]="DEAL_PRICE";
const F_enabled=9007190189270801; std.g_enum_ss[9007190189270801]="enabled";
std.FIELDS[F_enabled] = true;
const F_pic=9007191506130616; std.g_enum_ss[9007191506130616]="pic";
std.FIELDS[F_pic] = true;
const DEAL_DIFF=9007191539284869; std.g_enum_ss[9007191539284869]="DEAL_DIFF";
const F_sbar_pixels=9007190942883246; std.g_enum_ss[9007190942883246]="sbar_pixels";
std.FIELDS[F_sbar_pixels] = true;
const F_release=9007191856100237; std.g_enum_ss[9007191856100237]="release";
std.FIELDS[F_release] = true;
const F_curr_mode=9007192942866202; std.g_enum_ss[9007192942866202]="curr_mode";
std.FIELDS[F_curr_mode] = true;
const R_a_item_mod=9007194010401556; std.g_enum_ss[9007194010401556]="a_item_mod";
const MODE_ITEM_DETAIL=9007191047509942; std.g_enum_ss[9007191047509942]="MODE_ITEM_DETAIL";
const ISSUER_AMEX=9007190122170078; std.g_enum_ss[9007190122170078]="ISSUER_AMEX";
const F_zipcode=9007193469688110; std.g_enum_ss[9007193469688110]="zipcode";
std.FIELDS[F_zipcode] = true;
const F_cal=9007192288652380; std.g_enum_ss[9007192288652380]="cal";
std.FIELDS[F_cal] = true;
const F_curr_store=9007193989573846; std.g_enum_ss[9007193989573846]="curr_store";
std.FIELDS[F_curr_store] = true;
const F_subtot=9007192351174569; std.g_enum_ss[9007192351174569]="subtot";
std.FIELDS[F_subtot] = true;
const F_price=9007191764208093; std.g_enum_ss[9007191764208093]="price";
std.FIELDS[F_price] = true;
const F_old_size=9007193081352671; std.g_enum_ss[9007193081352671]="old_size";
std.FIELDS[F_old_size] = true;
const R_a_card_issuer=9007190526591592; std.g_enum_ss[9007190526591592]="a_card_issuer";
const F_grand_tot=9007192620816358; std.g_enum_ss[9007192620816358]="grand_tot";
std.FIELDS[F_grand_tot] = true;
const ADDON_MOD=9007193599641812; std.g_enum_ss[9007193599641812]="ADDON_MOD";
const F_bill_status=9007191109011736; std.g_enum_ss[9007191109011736]="bill_status";
std.FIELDS[F_bill_status] = true;
const ORDER_BUILDING=9007191641903114; std.g_enum_ss[9007191641903114]="ORDER_BUILDING";
const F_menuitem=9007190323393168; std.g_enum_ss[9007190323393168]="menuitem";
std.FIELDS[F_menuitem] = true;
const F_key=9007193825955663; std.g_enum_ss[9007193825955663]="key";
std.FIELDS[F_key] = true;
const R_a_meal_part=9007191239593097; std.g_enum_ss[9007191239593097]="a_meal_part";
const F_discount_price=9007191652226569; std.g_enum_ss[9007191652226569]="discount_price";
std.FIELDS[F_discount_price] = true;
const F_item=9007193110145023; std.g_enum_ss[9007193110145023]="item";
std.FIELDS[F_item] = true;
const F_picfile=9007193497778254; std.g_enum_ss[9007193497778254]="picfile";
std.FIELDS[F_picfile] = true;
const R_a_subcat=9007190272409894; std.g_enum_ss[9007190272409894]="a_subcat";
const MODE_PAYMENT=9007190837303981; std.g_enum_ss[9007190837303981]="MODE_PAYMENT";
const F_bill_date=9007193637493282; std.g_enum_ss[9007193637493282]="bill_date";
std.FIELDS[F_bill_date] = true;
const F_cardnum=9007192645038470; std.g_enum_ss[9007192645038470]="cardnum";
std.FIELDS[F_cardnum] = true;
const F_expire_yyyy=9007191464790924; std.g_enum_ss[9007191464790924]="expire_yyyy";
std.FIELDS[F_expire_yyyy] = true;
const R_a_variant=9007191453432273; std.g_enum_ss[9007191453432273]="a_variant";
const F_kind=9007193377009714; std.g_enum_ss[9007193377009714]="kind";
std.FIELDS[F_kind] = true;
const F_credit=9007193584455669; std.g_enum_ss[9007193584455669]="credit";
std.FIELDS[F_credit] = true;
const F_abbrev=9007194216061772; std.g_enum_ss[9007194216061772]="abbrev";
std.FIELDS[F_abbrev] = true;
const F_ripple_gx=9007191325135360; std.g_enum_ss[9007191325135360]="ripple_gx";
std.FIELDS[F_ripple_gx] = true;
const R_record_278=9007193703571823; std.g_enum_ss[9007193703571823]="record_278";
const INGRED_MOD=9007192399330135; std.g_enum_ss[9007192399330135]="INGRED_MOD";
const F_cardholder=9007191308763012; std.g_enum_ss[9007191308763012]="cardholder";
std.FIELDS[F_cardholder] = true;
const R_record_296=9007193533529967; std.g_enum_ss[9007193533529967]="record_296";
const F_req_item=9007192794951206; std.g_enum_ss[9007192794951206]="req_item";
std.FIELDS[F_req_item] = true;
const F_startdate=9007193227125704; std.g_enum_ss[9007193227125704]="startdate";
std.FIELDS[F_startdate] = true;
const F_ingred=9007190230291743; std.g_enum_ss[9007190230291743]="ingred";
std.FIELDS[F_ingred] = true;
const F_tax_pct=9007193321326917; std.g_enum_ss[9007193321326917]="tax_pct";
std.FIELDS[F_tax_pct] = true;
const ISSUER_DISC=9007190477158172; std.g_enum_ss[9007190477158172]="ISSUER_DISC";
const F_curr_customizing=9007192297467339; std.g_enum_ss[9007192297467339]="curr_customizing";
std.FIELDS[F_curr_customizing] = true;
const MODE_MAP=9007190280174677; std.g_enum_ss[9007190280174677]="MODE_MAP";
const F_items=9007191606757732; std.g_enum_ss[9007191606757732]="items";
std.FIELDS[F_items] = true;
const R_a_meal_desc=9007192456174413; std.g_enum_ss[9007192456174413]="a_meal_desc";
const F_busy_running=9007191558959885; std.g_enum_ss[9007191558959885]="busy_running";
std.FIELDS[F_busy_running] = true;
const F_curr_subcat=9007191260704735; std.g_enum_ss[9007191260704735]="curr_subcat";
std.FIELDS[F_curr_subcat] = true;
const F_ripple_gy=9007191341912979; std.g_enum_ss[9007191341912979]="ripple_gy";
std.FIELDS[F_ripple_gy] = true;
const F_user_require=9007191460160955; std.g_enum_ss[9007191460160955]="user_require";
std.FIELDS[F_user_require] = true;
const F_modal_action=9007190842597120; std.g_enum_ss[9007190842597120]="modal_action";
std.FIELDS[F_modal_action] = true;
const F_version=9007192473701756; std.g_enum_ss[9007192473701756]="version";
std.FIELDS[F_version] = true;
const F_parts=9007190510184162; std.g_enum_ss[9007190510184162]="parts";
std.FIELDS[F_parts] = true;
const F_nickname=9007191517220172; std.g_enum_ss[9007191517220172]="nickname";
std.FIELDS[F_nickname] = true;
const F_user_favorites=9007190128653201; std.g_enum_ss[9007190128653201]="user_favorites";
std.FIELDS[F_user_favorites] = true;
const F_mods=9007192339839557; std.g_enum_ss[9007192339839557]="mods";
std.FIELDS[F_mods] = true;
const ORDER_SUBMITTED=9007191471753519; std.g_enum_ss[9007191471753519]="ORDER_SUBMITTED";
const ISSUER_MC=9007192827059249; std.g_enum_ss[9007192827059249]="ISSUER_MC";
const F_busy_id=9007193840087251; std.g_enum_ss[9007193840087251]="busy_id";
std.FIELDS[F_busy_id] = true;
const F_qty=9007193564592660; std.g_enum_ss[9007193564592660]="qty";
std.FIELDS[F_qty] = true;
const R_a_cart_item=9007191383387268; std.g_enum_ss[9007191383387268]="a_cart_item";
const F_subtot2=9007190936041729; std.g_enum_ss[9007190936041729]="subtot2";
std.FIELDS[F_subtot2] = true;
const F_numlen=9007191850076503; std.g_enum_ss[9007191850076503]="numlen";
std.FIELDS[F_numlen] = true;
const MODE_CART_DETAIL=9007191256414093; std.g_enum_ss[9007191256414093]="MODE_CART_DETAIL";
const F_default_sizex=9007193857696061; std.g_enum_ss[9007193857696061]="default_sizex";
std.FIELDS[F_default_sizex] = true;
const R_a_creditcard=9007192456914399; std.g_enum_ss[9007192456914399]="a_creditcard";
const R_a_timeslot=9007192209371101; std.g_enum_ss[9007192209371101]="a_timeslot";
const MODE_ITEM_LIST=9007194046251519; std.g_enum_ss[9007194046251519]="MODE_ITEM_LIST";
const F_desc=9007193614365889; std.g_enum_ss[9007193614365889]="desc";
std.FIELDS[F_desc] = true;
const F_ripple_running=9007192190502798; std.g_enum_ss[9007192190502798]="ripple_running";
std.FIELDS[F_ripple_running] = true;
const R_a_cart=9007190117169454; std.g_enum_ss[9007190117169454]="a_cart";
const F_listed=9007191120909881; std.g_enum_ss[9007191120909881]="listed";
std.FIELDS[F_listed] = true;
const F_categories=9007191474498812; std.g_enum_ss[9007191474498812]="categories";
std.FIELDS[F_categories] = true;
const ORDER_CANCELLED=9007190663336201; std.g_enum_ss[9007190663336201]="ORDER_CANCELLED";
const F_dealkind=9007190720764520; std.g_enum_ss[9007190720764520]="dealkind";
std.FIELDS[F_dealkind] = true;
const F_end_hour=9007191719546844; std.g_enum_ss[9007191719546844]="end_hour";
std.FIELDS[F_end_hour] = true;
const R_a_store=9007192570465345; std.g_enum_ss[9007192570465345]="a_store";
const F_curr_pay_cardx=9007190570815752; std.g_enum_ss[9007190570815752]="curr_pay_cardx";
std.FIELDS[F_curr_pay_cardx] = true;
const F_modal_prompt=9007191282578688; std.g_enum_ss[9007191282578688]="modal_prompt";
std.FIELDS[F_modal_prompt] = true;
const MODE_ADDCARD=9007190058752062; std.g_enum_ss[9007190058752062]="MODE_ADDCARD";
const F_modal_cancel=9007192121129088; std.g_enum_ss[9007192121129088]="modal_cancel";
std.FIELDS[F_modal_cancel] = true;
const OTHER=9007190265645743; std.g_enum_ss[9007190265645743]="OTHER";
const F_user_name=9007194031944223; std.g_enum_ss[9007194031944223]="user_name";
std.FIELDS[F_user_name] = true;
const MODE_CONTACT=9007192582408975; std.g_enum_ss[9007192582408975]="MODE_CONTACT";
const F_item_total=9007192344378490; std.g_enum_ss[9007192344378490]="item_total";
std.FIELDS[F_item_total] = true;
const F_modal_ok=9007192193266660; std.g_enum_ss[9007192193266660]="modal_ok";
std.FIELDS[F_modal_ok] = true;
const F_available=9007193415917147; std.g_enum_ss[9007193415917147]="available";
std.FIELDS[F_available] = true;
const F_ripple_step=9007190849165213; std.g_enum_ss[9007190849165213]="ripple_step";
std.FIELDS[F_ripple_step] = true;
const ISSUER_VISA=9007193852687048; std.g_enum_ss[9007193852687048]="ISSUER_VISA";
const R_a_category=9007194190503384; std.g_enum_ss[9007194190503384]="a_category";
const F_ask_date=9007191147104478; std.g_enum_ss[9007191147104478]="ask_date";
std.FIELDS[F_ask_date] = true;
const R_a_deal=9007193044924886; std.g_enum_ss[9007193044924886]="a_deal";
const F_user_avoid=9007191556186849; std.g_enum_ss[9007191556186849]="user_avoid";
std.FIELDS[F_user_avoid] = true;
const F_codelen=9007194250736844; std.g_enum_ss[9007194250736844]="codelen";
std.FIELDS[F_codelen] = true;
const MODE_CART=9007193082453931; std.g_enum_ss[9007193082453931]="MODE_CART";
const ADDON=9007190345494351; std.g_enum_ss[9007190345494351]="ADDON";
const ORDER_READY=9007193810760061; std.g_enum_ss[9007193810760061]="ORDER_READY";
const F_timeslot=9007190290370349; std.g_enum_ss[9007190290370349]="timeslot";
std.FIELDS[F_timeslot] = true;
const F_curr_lang=9007192054586429; std.g_enum_ss[9007192054586429]="curr_lang";
std.FIELDS[F_curr_lang] = true;
const F_flags=9007191913912579; std.g_enum_ss[9007191913912579]="flags";
std.FIELDS[F_flags] = true;
const F_busy_framex=9007191231729253; std.g_enum_ss[9007191231729253]="busy_framex";
std.FIELDS[F_busy_framex] = true;
const F_expire_mm=9007191756017406; std.g_enum_ss[9007191756017406]="expire_mm";
std.FIELDS[F_expire_mm] = true;
const F_adjustment=9007190983332995; std.g_enum_ss[9007190983332995]="adjustment";
std.FIELDS[F_adjustment] = true;
const F_start_hour=9007191339274227; std.g_enum_ss[9007191339274227]="start_hour";
std.FIELDS[F_start_hour] = true;
const INGRED=9007191683586972; std.g_enum_ss[9007191683586972]="INGRED";
const F_curr_issuer=9007193122686126; std.g_enum_ss[9007193122686126]="curr_issuer";
std.FIELDS[F_curr_issuer] = true;
const MODE_SETTINGS=9007192950378628; std.g_enum_ss[9007192950378628]="MODE_SETTINGS";
//[reflAAA]
std.merge_lit(_M,0,std.META,_M, std.F_mod_const, "ANIM_DURATION", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ANIM_START_DIAM", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ANIM_STOP_DIAM"
, std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ANIM_THICKNESS", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "BACK_SS", std.F_vv_typek, VAL, std.TYPE_STR, POP, "BUTT_FONT", std.F_vv_typek
, VAL, std.TYPE_STR, POP, "BUTT_RADIUS", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "CARDINAL", std.F_vv_typek, VAL, std.TYPE_PATTERN, POP, "CART_SS", std.F_vv_typek, VAL, std.TYPE_STR
, POP, "CREDITCARD", std.F_vv_typek, VAL, std.TYPE_PATTERN, POP, "C_ALERT_BACK", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_ALERT_BORD", std.F_vv_typek, VAL, std.TYPE_COLOR
, POP, "C_ALERT_TEXT", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_BUTT_BACK", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_BUTT_BACK_HI", std.F_vv_typek, VAL, std.TYPE_COLOR
, POP, "C_BUTT_BORD", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_BUTT_DEL", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_BUTT_NEXT", std.F_vv_typek, VAL, std.TYPE_COLOR, POP
, "C_BUTT_TEXT", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_BUTT_TEXT_HI", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_DEAD", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, 
"C_DEAD2", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_ENTRY_LO_BACK", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_ENTRY_LO_BORD", std.F_vv_typek, VAL, std.TYPE_COLOR, POP
, "C_ENTRY_LO_TEXT", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_ITEMLIST_EDGE", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_ITEMLIST_FOOT", std.F_vv_typek, VAL, std.TYPE_COLOR
, POP, "C_ITEM_DEAD", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_ITEM_DIV", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_ITEM_TEXT", std.F_vv_typek, VAL, std.TYPE_COLOR, POP
, "C_SIZE_BACK_HI", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_SIZE_BACK_LO", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "C_SIZE_FORE", std.F_vv_typek, VAL, std.TYPE_COLOR
, POP, "C_SIZE_TRIANGLE", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, "DELBOX_FRACT", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "DESC_INDENT", std.F_vv_typek, VAL, std.TYPE_NUM
, POP, "DETAILV", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "DETAIL_PHOTO_H", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "DETAIL_PHOTO_MARG", std.F_vv_typek, VAL, std.TYPE_NUM, POP
, "DETAIL_PHOTO_V", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "DUMMY_CART", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "DUMMY_RECENT", std.F_vv_typek, VAL, std.TYPE_YESNO, POP
, "END_MARKER", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ENTRYBORD", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ENTRYV", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "FOOTER_INDENT"
, std.F_vv_typek, VAL, std.TYPE_NUM, POP, "GENERIC_MAP", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "GRADIENT_ITEM", std.F_vv_rec, VAL, "a_gradient", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, "GRADIENT_LIST", std.F_vv_rec, VAL, "a_gradient", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "GRADIENT_TOTAL", std.F_vv_rec, VAL, "a_gradient", std.F_vv_typek, VAL, 
std.TYPE_RECORD, POP, "ICON_AMEX", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "ICON_DISC", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "ICON_MC", std.F_vv_typek, VAL, std.TYPE_IMAGE
, POP, "ICON_VISA", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "ISSUERS", std.F_vv_rec, VAL, "a_card_issuer", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "ITEMV", std.F_vv_typek
, VAL, std.TYPE_NUM, POP, "ITEM_FONT", std.F_vv_typek, VAL, std.TYPE_STR, POP, "ITEM_INDENT", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ITEM_LEADING", std.F_vv_typek, VAL, 
std.TYPE_NUM, POP, "ITEM_PHOTO_H", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ITEM_PHOTO_MARG", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ITEM_PHOTO_V", std.F_vv_typek, VAL, 
std.TYPE_NUM, POP, "ITEM_QTY_LIMIT", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ITEM_SIZE", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "LABELH", std.F_vv_typek, VAL, std.TYPE_NUM
, POP, "LABEL_F_GAP", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "LANGUAGES_AVAIL", std.F_vv_typek, VAL, std.TYPE_ARRAY, POP, "LANGUAGE_NAMES", std.F_vv_typek, VAL, std.TYPE_ARRAY
, POP, "MAIN_FONT", std.F_vv_typek, VAL, std.TYPE_STR, POP, "MAX_DECLINES", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "MAX_FAVORITES", std.F_vv_typek, VAL, std.TYPE_NUM, POP
, "MAX_ORDER_AMT", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "MINUS_SS", std.F_vv_typek, VAL, std.TYPE_STR, POP, "MONTH", std.F_vv_typek, VAL, std.TYPE_PATTERN, POP, "MORE_SS"
, std.F_vv_typek, VAL, std.TYPE_STR, POP, "N_ORDERS_SAVED", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "PIC_APPLE", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "PIC_BIGMAC", std.F_vv_typek
, VAL, std.TYPE_IMAGE, POP, "PIC_CHEE", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "PIC_CRAN", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "PIC_CREAM", std.F_vv_typek, VAL, std.TYPE_IMAGE
, POP, "PIC_DUBQPCH", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "PIC_FRIES", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "PIC_OATMEAL", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP
, "PIC_QPCH", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "PIC_SALT", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "PRICEH", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "QTY_FONT", 
std.F_vv_typek, VAL, std.TYPE_STR, POP, "SBAR_THICK", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "SKIP_ANIMATE_TAP", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "STORE_BARNEY", 
std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "STORE_CHICK", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "STORE_FINFINE", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "STORE_JOES", 
std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "STORE_MCD", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "TRACE_ANIMATE", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "TRACE_MODAL", 
std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "TRACE_MODE", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "TRACE_SCROLL", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "VERSION", std.F_vv_typek
, VAL, std.TYPE_STR, POP, "ZIPCODE", std.F_vv_typek, VAL, std.TYPE_PATTERN, POP, POP, std.F_mod_enums, "ADDON", VAL, ADDON, "ADDON_MOD", VAL, ADDON_MOD, "DEAL_DIFF", VAL, 
DEAL_DIFF, "DEAL_PRICE", VAL, DEAL_PRICE, "INGRED", VAL, INGRED, "INGRED_MOD", VAL, INGRED_MOD, "ISSUER_AMEX", VAL, ISSUER_AMEX, "ISSUER_DISC", VAL, ISSUER_DISC, "ISSUER_MC"
, VAL, ISSUER_MC, "ISSUER_VISA", VAL, ISSUER_VISA, "ITEM", VAL, ITEM, "MODE_ADDCARD", VAL, MODE_ADDCARD, "MODE_CART", VAL, MODE_CART, "MODE_CART_DETAIL", VAL, MODE_CART_DETAIL
, "MODE_CAT_LIST", VAL, MODE_CAT_LIST, "MODE_CONTACT", VAL, MODE_CONTACT, "MODE_EDITCARD", VAL, MODE_EDITCARD, "MODE_ITEM_DETAIL", VAL, MODE_ITEM_DETAIL, "MODE_ITEM_LIST", VAL, 
MODE_ITEM_LIST, "MODE_MAP", VAL, MODE_MAP, "MODE_PAYMENT", VAL, MODE_PAYMENT, "MODE_RECENT", VAL, MODE_RECENT, "MODE_REORDER", VAL, MODE_REORDER, "MODE_SETTINGS", VAL, MODE_SETTINGS
, "MODE_STORE_LIST", VAL, MODE_STORE_LIST, "MODE_SUBMIT", VAL, MODE_SUBMIT, "ORDER_ACK", VAL, ORDER_ACK, "ORDER_BUILDING", VAL, ORDER_BUILDING, "ORDER_CANCELLED", VAL, ORDER_CANCELLED
, "ORDER_READY", VAL, ORDER_READY, "ORDER_SUBMITTED", VAL, ORDER_SUBMITTED, "OTHER", VAL, OTHER, POP, std.F_mod_funcs, "abandon_cart", std.F_vv_funck, VAL, std.FK_CALC, POP
, "addcard_body", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_cardnum", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_cardnum_2362", std.F_vv_funck, VAL, std.FK_DRAW
, POP, "addcard_cardnum_2365", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_cardnum_2368", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_expire", std.F_vv_funck, VAL, 
std.FK_DRAW, POP, "addcard_expire_2376", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_expire_2379", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_expire_2381", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "addcard_expire_2383", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_expire_2385", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_expire_2388", 
std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_footer", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_footer_2405", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_nickname"
, std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_nickname_2330", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_nickname_2333", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_owner"
, std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_owner_2340", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_owner_2343", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_zipcode"
, std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_zipcode_2350", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_zipcode_2353", std.F_vv_funck, VAL, std.FK_DRAW, POP, "addcard_zipcode_2355"
, std.F_vv_funck, VAL, std.FK_DRAW, POP, "animate_tap", std.F_vv_cat, VAL, "||animated feedback for a user tap", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk
, VAL, std.PK_POS, std.F_vv_parmn, VAL, "tap_x|local coordinate of tap", std.F_vv_typek, VAL, std.TYPE_NUM, POP, 2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "tap_y|local coordinate of tap"
, std.F_vv_typek, VAL, std.TYPE_NUM, POP, 3, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "next_mode|next mode to change to after tap animation is finished, U=no change"
, std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "ask_yesno", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, 
"prompt", std.F_vv_typek, VAL, std.TYPE_STR, POP, 2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "action", std.F_vv_typek, VAL, std.TYPE_FUNC, POP, 3, std.F_vv_parmk
, VAL, std.PK_NAMED, std.F_vv_parmn, VAL, "cancel_str", std.F_vv_typek, VAL, std.TYPE_STR, POP, 4, std.F_vv_parmk, VAL, std.PK_NAMED, std.F_vv_parmn, VAL, "ok_str", std.F_vv_typek
, VAL, std.TYPE_STR, POP, POP, POP, "body_contact", std.F_vv_funck, VAL, std.FK_DRAW, POP, "body_map", std.F_vv_funck, VAL, std.FK_DRAW, POP, "body_recent", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "body_reorder", std.F_vv_funck, VAL, std.FK_DRAW, POP, "butt_add_card", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, 
std.PK_POS, std.F_vv_parmn, VAL, "cardx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "butt_customize", std.F_vv_funck, VAL, std.FK_DRAW, POP, "butt_email", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "butt_email_assy", std.F_vv_funck, VAL, std.FK_DRAW, POP, "butt_go_back", std.F_vv_funck, VAL, std.FK_DRAW, POP, "butt_go_payment", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "butt_go_reorder", std.F_vv_funck, VAL, std.FK_DRAW, POP, "butt_go_transmit", std.F_vv_funck, VAL, std.FK_DRAW, POP, "butt_phone", std.F_vv_funck, VAL, 
std.FK_DRAW, POP, "butt_phone_assy", std.F_vv_funck, VAL, std.FK_DRAW, POP, "butt_simple", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS
, std.F_vv_parmn, VAL, "label", std.F_vv_typek, VAL, std.TYPE_STR, POP, 2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "action", std.F_vv_typek, VAL, std.TYPE_FUNC
, POP, 3, std.F_vv_parmk, VAL, std.PK_NAMED, std.F_vv_parmn, VAL, "back", std.F_vv_typek, VAL, std.TYPE_COLOR, POP, POP, POP, "butt_view_cart", std.F_vv_funck, VAL, std.FK_DRAW
, POP, "butt_view_cart_898", std.F_vv_funck, VAL, std.FK_DRAW, POP, "calc_work_totals", std.F_vv_funck, VAL, std.FK_CALC, POP, "card_to_inputs", std.F_vv_funck, VAL, std.FK_CALC
, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "card", std.F_vv_rec, VAL, "a_creditcard", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, 
"cart_detail_footer", std.F_vv_funck, VAL, std.FK_DRAW, POP, "cart_footer", std.F_vv_funck, VAL, std.FK_DRAW, POP, "cart_footer_1843", std.F_vv_funck, VAL, std.FK_DRAW, POP
, "cart_itemlist", std.F_vv_funck, VAL, std.FK_DRAW, POP, "category_picker", std.F_vv_funck, VAL, std.FK_DRAW, POP, "check_card_form", std.F_vv_funck, VAL, std.FK_CALC, POP
, "d_add_card", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_card_butts", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn
, VAL, "cardx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "d_card_info", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn
, VAL, "cardx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "d_cart", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_cart_count", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_cart_detail"
, std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_cart_subtot", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_cart_subtot_1631", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_cart_subtot_1633"
, std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_cartitem_row", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item"
, std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_cartitem_row_B", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk
, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_cartitem_row_pic", std.F_vv_funck
, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "pic", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, POP, POP, "d_cartrow_butts", 
std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, POP, POP, "d_cartrow_qty", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item"
, std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_cartrow_qty_1794", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn
, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_cartrow_qty_butts", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms
, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_cartrow_upper"
, std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, 
std.TYPE_RECORD, POP, POP, POP, "d_cartrow_upper_1697", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", 
std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_cat_footer", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_cat_footer_842", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "d_cat_itemlist", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_contact_email", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_contact_number", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "d_custom_name", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, 
"a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_custom_pic", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn
, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_custom_sizes", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1
, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "mod", std.F_vv_rec, VAL, "a_item_mod", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, 2, std.F_vv_parmk, VAL, std.PK_POS
, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_customization", std.F_vv_funck, VAL, std.FK_DRAW, 
std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "mod", std.F_vv_rec, VAL, "a_item_mod", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_delbox"
, std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "box", std.F_vv_rec, VAL, "a_rect", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, POP, POP, "d_desc1", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item"
, std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_desc1_1155", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn
, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_desc1_1160", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, 
std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_desc2", std.F_vv_funck
, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, 2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "sizex", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "d_desc3", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms
, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_det_desc", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "d_det_desc2", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_det_desc2_1484", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_det_desc2_1487", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "d_det_desc_1470", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_foody_main", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_item_desc", std.F_vv_funck, VAL, 
std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, 
2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "sizex", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "d_item_detail", std.F_vv_funck, VAL, std.FK_DRAW, POP, 
"d_item_row", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek
, VAL, std.TYPE_RECORD, POP, POP, POP, "d_item_row_1127", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item"
, std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_lang_row", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_lang_row_1884", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "d_main_footer", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_mod_list", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS
, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_mod_list_qty", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms
, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "d_mod_list_qty_1685"
, std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, 
std.TYPE_RECORD, POP, POP, POP, "d_modal_overlay", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_payment_card", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk
, VAL, std.PK_POS, std.F_vv_parmn, VAL, "cardx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "d_pick_payment", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_qty_butts", 
std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_qty_label", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_qty_label_1493", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_recent_order", std.F_vv_funck
, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "recent", std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, POP, "d_reorder", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "d_reorder_butt1", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_settings", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_settings_body", std.F_vv_funck, VAL, 
std.FK_DRAW, POP, "d_settings_body_1877", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_store_picker", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_subcat_picker", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "d_submit", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_tot_overlay", std.F_vv_funck, VAL, std.FK_DRAW, POP, "d_tot_overlay2", std.F_vv_funck, VAL, 
std.FK_DRAW, POP, "detail_body", std.F_vv_funck, VAL, std.FK_DRAW, POP, "do_add_store", std.F_vv_funck, VAL, std.FK_CALC, POP, "do_add_to_cart", std.F_vv_funck, VAL, std.FK_CALC
, POP, "do_alert_cancel", std.F_vv_funck, VAL, std.FK_CALC, POP, "do_alert_ok", std.F_vv_funck, VAL, std.FK_CALC, POP, "do_card_del", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms
, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "cardx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "do_card_del2", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms
, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "cardx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "do_cartitem_del", std.F_vv_funck, VAL, std.FK_CALC, 
std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "do_cartitem_del2"
, std.F_vv_funck, VAL, std.FK_CALC, POP, "do_cartitem_edit", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item"
, std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "do_cartrow_minus", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk
, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "do_cartrow_plus", std.F_vv_funck, VAL, 
std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP
, POP, "do_exit_store", std.F_vv_funck, VAL, std.FK_CALC, POP, "do_login", std.F_vv_funck, VAL, std.FK_CALC, POP, "do_mode_change", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms
, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "next_mode", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "do_qty_minus", std.F_vv_funck, VAL, std.FK_CALC, POP
, "do_qty_plus", std.F_vv_funck, VAL, std.FK_CALC, POP, "do_toggle_customize", std.F_vv_funck, VAL, std.FK_CALC, POP, "do_update_item", std.F_vv_funck, VAL, std.FK_CALC, POP
, "draw_language_cell", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "box", std.F_vv_rec, VAL, "a_rect", std.F_vv_typek
, VAL, std.TYPE_RECORD, POP, 2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "ix", std.F_vv_typek, VAL, std.TYPE_NUM, POP, 3, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn
, VAL, "hilite", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, POP, POP, "draw_size_cell", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS
, std.F_vv_parmn, VAL, "box", std.F_vv_rec, VAL, "a_rect", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, 2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec
, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, 3, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "variant", std.F_vv_rec, VAL, "a_variant", std.F_vv_typek
, VAL, std.TYPE_RECORD, POP, 4, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "hilite", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, POP, POP, "enter_card_edit", std.F_vv_funck
, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "cardx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, 2, std.F_vv_parmk, VAL, std.PK_POS
, std.F_vv_parmn, VAL, "newmode", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "final_add_card", std.F_vv_funck, VAL, std.FK_CALC, POP, "find_in_cart", std.F_vv_funck
, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "targ_key|item ID to search for", std.F_vv_typek, VAL, std.TYPE_STR, POP, 2, std.F_vv_parmk
, VAL, std.PK_POS, std.F_vv_parmn, VAL, "targ_size|target size variant", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, std.F_vv_typek, VAL, std.TYPE_NUM, POP, "gen_cart_item_desc"
, std.F_vv_cat, VAL, "||calculate the cart item description string", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, 
"cartitem", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, std.F_vv_typek, VAL, std.TYPE_STR, POP, "gen_cart_totals", std.F_vv_funck, VAL, 
std.FK_CALC, POP, "gen_price_ss", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item"
, std.F_vv_typek, VAL, std.TYPE_RECORD, POP, 2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "sizex", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, std.F_vv_typek, VAL, 
std.TYPE_STR, POP, "generic_footer", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "label", std.F_vv_typek, VAL, 
std.TYPE_STR, POP, POP, POP, "get_issuer_ptr", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "cardnum", std.F_vv_typek
, VAL, std.TYPE_STR, POP, POP, std.F_vv_rec, VAL, "a_card_issuer", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "go_mode", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 
1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "next_mode", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "has_customizations", std.F_vv_funck, VAL, std.FK_CALC
, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, std.F_vv_typek
, VAL, std.TYPE_YESNO, POP, "hdr_label", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "label|label to draw at top"
, std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, POP, "home_contact", std.F_vv_funck, VAL, std.FK_DRAW, POP, "home_map", std.F_vv_funck, VAL, std.FK_DRAW, POP, "home_pick_cat"
, std.F_vv_funck, VAL, std.FK_DRAW, POP, "home_pick_item", std.F_vv_funck, VAL, std.FK_DRAW, POP, "home_pick_store", std.F_vv_funck, VAL, std.FK_DRAW, POP, "home_recent", 
std.F_vv_funck, VAL, std.FK_DRAW, POP, "home_reorder", std.F_vv_funck, VAL, std.FK_DRAW, POP, "inputs_to_card", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_rec, VAL, "a_creditcard"
, std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "is_card_expired", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, 
"card", std.F_vv_rec, VAL, "a_creditcard", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "is_customizable", std.F_vv_funck, VAL, 
std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "itemp", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP
, std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "is_valid_luhn_checksum", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, 
"ss|string to validate using luhn algorithm", std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "item_detail_footer", std.F_vv_funck, VAL, 
std.FK_DRAW, POP, "item_select", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "key", std.F_vv_typek, VAL, std.TYPE_STR
, POP, POP, POP, "itemlist_footer", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "category", std.F_vv_typek, VAL, 
std.TYPE_STR, POP, POP, POP, "itemlist_footer_821", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "category", 
std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, POP, "load_menu", std.F_vv_funck, VAL, std.FK_CALC, POP, "main_draw", std.F_vv_funck, VAL, std.FK_DRAW, POP, "main_init", std.F_vv_funck
, VAL, std.FK_CALC, POP, "next_busy_frame", std.F_vv_funck, VAL, std.FK_CALC, POP, "payment_body", std.F_vv_funck, VAL, std.FK_DRAW, POP, "payment_footer", std.F_vv_funck, VAL, 
std.FK_DRAW, POP, "payment_footer_2744", std.F_vv_funck, VAL, std.FK_DRAW, POP, "pick_item_size", std.F_vv_funck, VAL, std.FK_DRAW, std.F_vv_parms, 1, std.F_vv_parmk, VAL, 
std.PK_POS, std.F_vv_parmn, VAL, "item", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, 2, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, 
"cellh", std.F_vv_typek, VAL, std.TYPE_NUM, POP, 3, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "horzpct", std.F_vv_typek, VAL, std.TYPE_NUM, POP, 4, std.F_vv_parmk
, VAL, std.PK_POS, std.F_vv_parmn, VAL, "selx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "pick_language", std.F_vv_funck, VAL, std.FK_DRAW, POP, "qty_in_cart", std.F_vv_cat
, VAL, "||calculate the count of this item in the cart", std.F_vv_funck, VAL, std.FK_CALC, std.F_vv_parms, 1, std.F_vv_parmk, VAL, std.PK_POS, std.F_vv_parmn, VAL, "targ_id|target item id, U means count all items"
, std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, std.F_vv_typek, VAL, std.TYPE_NUM, POP, "regen_css", std.F_vv_funck, VAL, std.FK_DRAW, POP, "reset_ccard_fields", std.F_vv_funck
, VAL, std.FK_CALC, POP, "reset_work_mods", std.F_vv_funck, VAL, std.FK_CALC, POP, "settings_footer", std.F_vv_funck, VAL, std.FK_DRAW, POP, "settings_footer_1867", std.F_vv_funck
, VAL, std.FK_DRAW, POP, "submit_body", std.F_vv_funck, VAL, std.FK_DRAW, POP, "submit_body_2760", std.F_vv_funck, VAL, std.FK_DRAW, POP, "submit_footer", std.F_vv_funck, VAL, 
std.FK_DRAW, POP, "submit_footer_2772", std.F_vv_funck, VAL, std.FK_DRAW, POP, "toggle_busy", std.F_vv_funck, VAL, std.FK_CALC, POP, POP, std.F_mod_recs, "a_card_issuer", 
std.F_vv_fields, "codelen", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "icon", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "numlen", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "prefix"
, std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, POP, "a_cart", std.F_vv_fields, "adjustment", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ask_date", std.F_vv_typek, VAL, std.TYPE_NUM
, POP, "bill_date", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "bill_err", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "bill_status", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "cart_items"
, std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "cooktime_actual", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "cooktime_est", std.F_vv_typek, VAL, 
std.TYPE_NUM, POP, "coupon", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "grand_tot", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "subtot", std.F_vv_typek, VAL, std.TYPE_NUM, POP, 
"subtot2", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "tax", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "a_cart_item", std.F_vv_fields, "adjustment", std.F_vv_typek, VAL, 
std.TYPE_NUM, POP, "has_mods", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "item_total", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "key", std.F_vv_typek, VAL, std.TYPE_STR, POP
, "menuitem", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "mods", std.F_vv_rec, VAL, "a_item_mod", std.F_vv_typek, VAL, std.TYPE_RECORD, POP
, "per_price", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "qty", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "sizex", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "a_category"
, std.F_vv_fields, "name", std.F_vv_typek, VAL, std.TYPE_STR, POP, "pic", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "picfile", std.F_vv_typek, VAL, std.TYPE_STR, POP, "subcats"
, std.F_vv_rec, VAL, "a_subcat", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "a_creditcard", std.F_vv_fields, "cardholder", std.F_vv_typek, VAL, std.TYPE_STR, POP
, "cardnum", std.F_vv_typek, VAL, std.TYPE_STR, POP, "csc", std.F_vv_typek, VAL, std.TYPE_STR, POP, "expire_mm", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "expire_yyyy", std.F_vv_typek
, VAL, std.TYPE_NUM, POP, "nickname", std.F_vv_typek, VAL, std.TYPE_STR, POP, "zipcode", std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, POP, "a_deal", std.F_vv_fields, "dealkind"
, std.F_vv_typek, VAL, std.TYPE_NUM, POP, "discount_item", std.F_vv_typek, VAL, std.TYPE_STR, POP, "discount_price", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "enabled", std.F_vv_typek
, VAL, std.TYPE_YESNO, POP, "enddate", std.F_vv_rec, VAL, "a_date", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "req_item", std.F_vv_typek, VAL, std.TYPE_STR, POP, "startdate"
, std.F_vv_rec, VAL, "a_date", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "a_item_mod", std.F_vv_fields, "cost", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "key", std.F_vv_typek
, VAL, std.TYPE_STR, POP, "kind", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "sizex", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "a_itemlist_rec", std.F_vv_fields, "key"
, std.F_vv_typek, VAL, std.TYPE_STR, POP, "subcat", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "a_meal_desc", std.F_vv_fields, "name", std.F_vv_typek, VAL, std.TYPE_STR
, POP, "parts", std.F_vv_rec, VAL, "a_meal_part", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, POP, POP, "a_meal_part", std.F_vv_fields, "credit", std.F_vv_typek, VAL, std.TYPE_NUM
, POP, "item", std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, POP, "a_menu_item", std.F_vv_fields, "abbrev", std.F_vv_typek, VAL, std.TYPE_STR, POP, "addons", std.F_vv_typek
, VAL, std.TYPE_ARRAY, POP, "available", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "cooktime", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "default_sizex", std.F_vv_typek, VAL, 
std.TYPE_NUM, POP, "desc", std.F_vv_typek, VAL, std.TYPE_STR, POP, "flags", std.F_vv_typek, VAL, std.TYPE_STR, POP, "ingred", std.F_vv_typek, VAL, std.TYPE_ARRAY, POP, "kind"
, std.F_vv_typek, VAL, std.TYPE_NUM, POP, "listed", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "meals", std.F_vv_rec, VAL, "a_meal_desc", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, "name", std.F_vv_typek, VAL, std.TYPE_STR, POP, "name2", std.F_vv_typek, VAL, std.TYPE_STR, POP, "pic", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP, "picfile", std.F_vv_typek
, VAL, std.TYPE_STR, POP, "sizes", std.F_vv_rec, VAL, "a_variant", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "timeslot", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, 
"a_store", std.F_vv_fields, "address", std.F_vv_typek, VAL, std.TYPE_STR, POP, "name", std.F_vv_typek, VAL, std.TYPE_STR, POP, "pic", std.F_vv_typek, VAL, std.TYPE_IMAGE, POP
, "tax_pct", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "a_subcat", std.F_vv_fields, "keys", std.F_vv_typek, VAL, std.TYPE_ARRAY, POP, "name", std.F_vv_typek, VAL, 
std.TYPE_STR, POP, POP, POP, "a_timeslot", std.F_vv_fields, "end_hour", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "name", std.F_vv_typek, VAL, std.TYPE_STR, POP, "start_hour"
, std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "a_variant", std.F_vv_fields, "cal", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "name", std.F_vv_typek, VAL, std.TYPE_STR, POP
, "price", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "record_278", std.F_vv_fields, "categories", std.F_vv_rec, VAL, "a_category", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, "items", std.F_vv_rec, VAL, "a_menu_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "meals", std.F_vv_rec, VAL, "a_meal_desc", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, "ncats", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "release", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "version", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, "record_296"
, std.F_vv_fields, "user_avoid", std.F_vv_typek, VAL, std.TYPE_STR, POP, "user_favorites", std.F_vv_typek, VAL, std.TYPE_ARRAY, POP, "user_name", std.F_vv_typek, VAL, std.TYPE_STR
, POP, "user_require", std.F_vv_typek, VAL, std.TYPE_STR, POP, POP, POP, "record_309", std.F_vv_fields, "busy_framex", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "busy_id", std.F_vv_typek
, VAL, std.TYPE_NUM, POP, "busy_running", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "curr_cat", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "curr_customizing", std.F_vv_typek, VAL, 
std.TYPE_YESNO, POP, "curr_edit_item", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "curr_issuer", std.F_vv_rec, VAL, "a_card_issuer", std.F_vv_typek
, VAL, std.TYPE_RECORD, POP, "curr_lang", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "curr_mode", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "curr_pay_cardx", std.F_vv_typek, VAL, 
std.TYPE_NUM, POP, "curr_store", std.F_vv_rec, VAL, "a_store", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "curr_subcat", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "form_ready"
, std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "modal_action", std.F_vv_typek, VAL, std.TYPE_FUNC, POP, "modal_active", std.F_vv_typek, VAL, std.TYPE_YESNO, POP, "modal_cancel"
, std.F_vv_typek, VAL, std.TYPE_STR, POP, "modal_ok", std.F_vv_typek, VAL, std.TYPE_STR, POP, "modal_prompt", std.F_vv_typek, VAL, std.TYPE_STR, POP, "old_size", std.F_vv_typek
, VAL, std.TYPE_NUM, POP, "ripple_gx", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ripple_gy", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "ripple_running", std.F_vv_typek, VAL, 
std.TYPE_YESNO, POP, "ripple_step", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "sbar_pixels", std.F_vv_typek, VAL, std.TYPE_NUM, POP, POP, POP, POP, std.F_mod_vars, "ANIM_ACTIVITY"
, std.F_vv_typek, VAL, std.TYPE_ARRAY, POP, "CATEGORY_PICS", std.F_vv_typek, VAL, std.TYPE_ARRAY, POP, "FOOTER_V", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "HEADER_V", std.F_vv_typek
, VAL, std.TYPE_NUM, POP, "buttv", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "cards_on_file", std.F_vv_rec, VAL, "a_creditcard", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "cart"
, std.F_vv_rec, VAL, "a_cart", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "cartlist", std.F_vv_typek, VAL, std.TYPE_ARRAY, POP, "g_cartitem", std.F_vv_rec, VAL, "a_cart_item"
, std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "g_last_dpi", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "g_nstores", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "g_stores", std.F_vv_rec
, VAL, "a_store", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "history", std.F_vv_rec, VAL, "a_cart", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "input_cardnum", std.F_vv_rec
, VAL, "a_input_field", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "input_csc", std.F_vv_rec, VAL, "a_input_field", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "input_expire_mm"
, std.F_vv_rec, VAL, "a_input_field", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "input_expire_yy", std.F_vv_rec, VAL, "a_input_field", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, "input_nickname", std.F_vv_rec, VAL, "a_input_field", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "input_owner", std.F_vv_rec, VAL, "a_input_field", std.F_vv_typek, VAL, 
std.TYPE_RECORD, POP, "input_zipcode", std.F_vv_rec, VAL, "a_input_field", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "intf", std.F_vv_rec, VAL, "record_309", std.F_vv_typek
, VAL, std.TYPE_RECORD, POP, "itemlist", std.F_vv_rec, VAL, "a_itemlist_rec", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "menu", std.F_vv_rec, VAL, "record_278", std.F_vv_typek
, VAL, std.TYPE_RECORD, POP, "mycanvas", std.F_vv_rec, VAL, "a_canvas", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "ncartlist", std.F_vv_typek, VAL, std.TYPE_NUM, POP, "nitemlist"
, std.F_vv_typek, VAL, std.TYPE_NUM, POP, "subcat_size", std.F_vv_rec, VAL, "a_xy", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "subcat_str", std.F_vv_typek, VAL, std.TYPE_ARRAY
, POP, "timeslots", std.F_vv_rec, VAL, "a_timeslot", std.F_vv_typek, VAL, std.TYPE_RECORD, POP, "user", std.F_vv_rec, VAL, "record_296", std.F_vv_typek, VAL, std.TYPE_RECORD
, POP, "work", std.F_vv_rec, VAL, "a_cart_item", std.F_vv_typek, VAL, std.TYPE_RECORD);
//[reflZZZ]
//-------  func const
const item_detail_footer_F = new std.a_function("foody", "item_detail_footer", item_detail_footer);
const submit_body_2760_F = new std.a_function("foody", "submit_body_2760", submit_body_2760);
const butt_go_reorder_F = new std.a_function("foody", "butt_go_reorder", butt_go_reorder, track_butt_go_reorder);
const butt_email_F = new std.a_function("foody", "butt_email", butt_email, track_butt_email);
const d_cart_subtot_1631_F = new std.a_function("foody", "d_cart_subtot_1631", d_cart_subtot_1631);
const reset_work_mods_F = new std.a_function("foody", "reset_work_mods", reset_work_mods);
const butt_customize_F = new std.a_function("foody", "butt_customize", butt_customize);
const do_mode_change_F = new std.a_function("foody", "do_mode_change", do_mode_change);
const d_item_detail_F = new std.a_function("foody", "d_item_detail", d_item_detail);
const d_card_info_F = new std.a_function("foody", "d_card_info", d_card_info, track_d_card_info);
const final_add_card_F = new std.a_function("foody", "final_add_card", final_add_card);
const gen_cart_totals_F = new std.a_function("foody", "gen_cart_totals", gen_cart_totals);
const addcard_nickname_2330_F = new std.a_function("foody", "addcard_nickname_2330", addcard_nickname_2330);
const d_det_desc2_1487_F = new std.a_function("foody", "d_det_desc2_1487", d_det_desc2_1487);
const butt_view_cart_F = new std.a_function("foody", "butt_view_cart", butt_view_cart, track_butt_view_cart);
const d_cat_footer_F = new std.a_function("foody", "d_cat_footer", d_cat_footer);
const addcard_expire_F = new std.a_function("foody", "addcard_expire", addcard_expire);
const d_cartrow_upper_1697_F = new std.a_function("foody", "d_cartrow_upper_1697", d_cartrow_upper_1697);
const pick_item_size_F = new std.a_function("foody", "pick_item_size", pick_item_size, track_pick_item_size);
const addcard_cardnum_F = new std.a_function("foody", "addcard_cardnum", addcard_cardnum);
const d_tot_overlay2_F = new std.a_function("foody", "d_tot_overlay2", d_tot_overlay2);
const d_cartrow_qty_1794_F = new std.a_function("foody", "d_cartrow_qty_1794", d_cartrow_qty_1794);
const d_item_row_1127_F = new std.a_function("foody", "d_item_row_1127", d_item_row_1127);
const butt_go_back_F = new std.a_function("foody", "butt_go_back", butt_go_back, track_butt_go_back);
const d_cart_subtot_1633_F = new std.a_function("foody", "d_cart_subtot_1633", d_cart_subtot_1633);
const d_desc1_1155_F = new std.a_function("foody", "d_desc1_1155", d_desc1_1155);
const d_cart_subtot_F = new std.a_function("foody", "d_cart_subtot", d_cart_subtot);
const body_recent_F = new std.a_function("foody", "body_recent", body_recent);
const d_qty_label_1493_F = new std.a_function("foody", "d_qty_label_1493", d_qty_label_1493);
const itemlist_footer_821_F = new std.a_function("foody", "itemlist_footer_821", itemlist_footer_821);
const addcard_expire_2383_F = new std.a_function("foody", "addcard_expire_2383", addcard_expire_2383);
const addcard_nickname_2333_F = new std.a_function("foody", "addcard_nickname_2333", addcard_nickname_2333);
const body_reorder_F = new std.a_function("foody", "body_reorder", body_reorder);
const do_login_F = new std.a_function("foody", "do_login", do_login);
const d_cart_F = new std.a_function("foody", "d_cart", d_cart);
const category_picker_F = new std.a_function("foody", "category_picker", category_picker, track_category_picker);
const d_qty_label_F = new std.a_function("foody", "d_qty_label", d_qty_label);
const d_desc1_1160_F = new std.a_function("foody", "d_desc1_1160", d_desc1_1160);
const d_store_picker_F = new std.a_function("foody", "d_store_picker", d_store_picker, track_d_store_picker);
const d_reorder_butt1_F = new std.a_function("foody", "d_reorder_butt1", d_reorder_butt1);
const payment_body_F = new std.a_function("foody", "payment_body", payment_body);
const butt_email_assy_F = new std.a_function("foody", "butt_email_assy", butt_email_assy);
const cart_detail_footer_F = new std.a_function("foody", "cart_detail_footer", cart_detail_footer);
const cart_footer_F = new std.a_function("foody", "cart_footer", cart_footer);
const next_busy_frame_F = new std.a_function("foody", "next_busy_frame", next_busy_frame);
const d_contact_email_F = new std.a_function("foody", "d_contact_email", d_contact_email);
const addcard_expire_2385_F = new std.a_function("foody", "addcard_expire_2385", addcard_expire_2385);
const cart_footer_1843_F = new std.a_function("foody", "cart_footer_1843", cart_footer_1843);
const home_pick_item_F = new std.a_function("foody", "home_pick_item", home_pick_item);
const d_modal_overlay_F = new std.a_function("foody", "d_modal_overlay", d_modal_overlay, track_d_modal_overlay);
const d_det_desc_F = new std.a_function("foody", "d_det_desc", d_det_desc);
const do_cartitem_del2_F = new std.a_function("foody", "do_cartitem_del2", do_cartitem_del2);
const addcard_owner_2343_F = new std.a_function("foody", "addcard_owner_2343", addcard_owner_2343);
const d_lang_row_1884_F = new std.a_function("foody", "d_lang_row_1884", d_lang_row_1884);
const butt_add_card_F = new std.a_function("foody", "butt_add_card", butt_add_card, track_butt_add_card);
const addcard_expire_2381_F = new std.a_function("foody", "addcard_expire_2381", addcard_expire_2381);
const addcard_zipcode_2350_F = new std.a_function("foody", "addcard_zipcode_2350", addcard_zipcode_2350);
const addcard_expire_2388_F = new std.a_function("foody", "addcard_expire_2388", addcard_expire_2388);
const do_alert_cancel_F = new std.a_function("foody", "do_alert_cancel", do_alert_cancel);
const submit_footer_2772_F = new std.a_function("foody", "submit_footer_2772", submit_footer_2772);
const body_map_F = new std.a_function("foody", "body_map", body_map);
const addcard_zipcode_2353_F = new std.a_function("foody", "addcard_zipcode_2353", addcard_zipcode_2353);
const addcard_cardnum_2362_F = new std.a_function("foody", "addcard_cardnum_2362", addcard_cardnum_2362);
const butt_go_transmit_F = new std.a_function("foody", "butt_go_transmit", butt_go_transmit, track_butt_go_transmit);
const calc_work_totals_F = new std.a_function("foody", "calc_work_totals", calc_work_totals);
const d_mod_list_qty_1685_F = new std.a_function("foody", "d_mod_list_qty_1685", d_mod_list_qty_1685);
const cart_itemlist_F = new std.a_function("foody", "cart_itemlist", cart_itemlist);
const d_cart_detail_F = new std.a_function("foody", "d_cart_detail", d_cart_detail);
const pick_language_F = new std.a_function("foody", "pick_language", pick_language, track_pick_language);
const d_cat_itemlist_F = new std.a_function("foody", "d_cat_itemlist", d_cat_itemlist, track_d_cat_itemlist);
const d_det_desc2_F = new std.a_function("foody", "d_det_desc2", d_det_desc2);
const do_alert_ok_F = new std.a_function("foody", "do_alert_ok", do_alert_ok);
const d_det_desc_1470_F = new std.a_function("foody", "d_det_desc_1470", d_det_desc_1470);
const addcard_zipcode_2355_F = new std.a_function("foody", "addcard_zipcode_2355", addcard_zipcode_2355);
const addcard_body_F = new std.a_function("foody", "addcard_body", addcard_body);
const addcard_zipcode_F = new std.a_function("foody", "addcard_zipcode", addcard_zipcode);
const payment_footer_2744_F = new std.a_function("foody", "payment_footer_2744", payment_footer_2744);
const d_det_desc2_1484_F = new std.a_function("foody", "d_det_desc2_1484", d_det_desc2_1484);
const addcard_owner_F = new std.a_function("foody", "addcard_owner", addcard_owner);
const addcard_footer_2405_F = new std.a_function("foody", "addcard_footer_2405", addcard_footer_2405);
const addcard_owner_2340_F = new std.a_function("foody", "addcard_owner_2340", addcard_owner_2340);
const d_qty_butts_F = new std.a_function("foody", "d_qty_butts", d_qty_butts);
const addcard_cardnum_2368_F = new std.a_function("foody", "addcard_cardnum_2368", addcard_cardnum_2368);
const body_contact_F = new std.a_function("foody", "body_contact", body_contact);
const do_toggle_customize_F = new std.a_function("foody", "do_toggle_customize", do_toggle_customize);
const addcard_expire_2376_F = new std.a_function("foody", "addcard_expire_2376", addcard_expire_2376);
const d_add_card_F = new std.a_function("foody", "d_add_card", d_add_card);
const payment_footer_F = new std.a_function("foody", "payment_footer", payment_footer);
const settings_footer_1867_F = new std.a_function("foody", "settings_footer_1867", settings_footer_1867);
const regen_css_F = new std.a_function("foody", "regen_css", regen_css);
const submit_body_F = new std.a_function("foody", "submit_body", submit_body);
const butt_simple_F = new std.a_function("foody", "butt_simple", butt_simple, track_butt_simple);
const do_exit_store_F = new std.a_function("foody", "do_exit_store", do_exit_store);
const butt_phone_assy_F = new std.a_function("foody", "butt_phone_assy", butt_phone_assy);
const abandon_cart_F = new std.a_function("foody", "abandon_cart", abandon_cart);
const check_card_form_F = new std.a_function("foody", "check_card_form", check_card_form);
const d_cart_count_F = new std.a_function("foody", "d_cart_count", d_cart_count);
const d_foody_main_F = new std.a_function("foody", "d_foody_main", d_foody_main);
const submit_footer_F = new std.a_function("foody", "submit_footer", submit_footer);
const d_cat_footer_842_F = new std.a_function("foody", "d_cat_footer_842", d_cat_footer_842);
const addcard_nickname_F = new std.a_function("foody", "addcard_nickname", addcard_nickname);
const do_qty_minus_F = new std.a_function("foody", "do_qty_minus", do_qty_minus);
const reset_ccard_fields_F = new std.a_function("foody", "reset_ccard_fields", reset_ccard_fields);
const d_submit_F = new std.a_function("foody", "d_submit", d_submit);
const do_update_item_F = new std.a_function("foody", "do_update_item", do_update_item);
const butt_view_cart_898_F = new std.a_function("foody", "butt_view_cart_898", butt_view_cart_898);
const d_lang_row_F = new std.a_function("foody", "d_lang_row", d_lang_row);
const d_settings_body_1877_F = new std.a_function("foody", "d_settings_body_1877", d_settings_body_1877);
const do_add_store_F = new std.a_function("foody", "do_add_store", do_add_store);
const detail_body_F = new std.a_function("foody", "detail_body", detail_body);
const addcard_expire_2379_F = new std.a_function("foody", "addcard_expire_2379", addcard_expire_2379);
const home_pick_store_F = new std.a_function("foody", "home_pick_store", home_pick_store);
const load_menu_F = new std.a_function("foody", "load_menu", load_menu);
const do_qty_plus_F = new std.a_function("foody", "do_qty_plus", do_qty_plus);
const butt_go_payment_F = new std.a_function("foody", "butt_go_payment", butt_go_payment, track_butt_go_payment);
const do_add_to_cart_F = new std.a_function("foody", "do_add_to_cart", do_add_to_cart);
const butt_phone_F = new std.a_function("foody", "butt_phone", butt_phone, track_butt_phone);
const d_main_footer_F = new std.a_function("foody", "d_main_footer", d_main_footer);
const addcard_footer_F = new std.a_function("foody", "addcard_footer", addcard_footer);
const addcard_cardnum_2365_F = new std.a_function("foody", "addcard_cardnum_2365", addcard_cardnum_2365);
const d_contact_number_F = new std.a_function("foody", "d_contact_number", d_contact_number);
const home_pick_cat_F = new std.a_function("foody", "home_pick_cat", home_pick_cat);
const d_settings_body_F = new std.a_function("foody", "d_settings_body", d_settings_body);
const settings_footer_F = new std.a_function("foody", "settings_footer", settings_footer);
const d_pick_payment_F = new std.a_function("foody", "d_pick_payment", d_pick_payment);
//-------  top nodes
const TRACE_SCROLL = N;
const TRACE_MODE = N;
const TRACE_ANIMATE = Y;
const TRACE_MODAL = N;
const VERSION = "0.12";
const SKIP_ANIMATE_TAP = Y;
const BACK_SS = std.loc("⬅  Back", std.LANG_ENG, _M, 1000);
const MORE_SS = std.loc("⬅  Order more", std.LANG_ENG, _M, 1001);
const CART_SS = std.loc("⬅  Cart", std.LANG_ENG, _M, 1002);
const MINUS_SS = "−";
const LANGUAGES_AVAIL = new std.a_tree("foody","LANGUAGES_AVAIL", std.NF_TOPLEVEL|std.NF_LOGGED, std.tree_lit(_M, 18, 1, VAL, std.LANG_ENG, 2, VAL, std.LANG_ESP));
const LANGUAGE_NAMES = new std.a_tree("foody","LANGUAGE_NAMES", std.NF_TOPLEVEL|std.NF_LOGGED, std.tree_lit(_M, 19, 1, VAL, "English", 2, VAL, "Español"));
const GENERIC_MAP = new std.a_image("art/generic_map.jpg","GENERIC_MAP",false);

const ICON_AMEX = new std.a_image("art/icons/card_amex_128.png","ICON_AMEX",false);
const ICON_DISC = new std.a_image("art/icons/card_discover_128.png","ICON_DISC",false);
const ICON_MC = new std.a_image("art/icons/card_mastercard_128.png","ICON_MC",false);
const ICON_VISA = new std.a_image("art/icons/card_visa_128.png","ICON_VISA",false);

const ISSUERS = new std.a_tree("foody","ISSUERS", std.NF_TOPLEVEL|std.NF_LOGGED, std.tree_lit(_M, 66, ISSUER_AMEX, F_icon, VAL, ICON_AMEX, F_numlen, VAL, 15, F_codelen, VAL
, 4, F_prefix, VAL, "3", POP, ISSUER_DISC, F_icon, VAL, ICON_DISC, F_numlen, VAL, 16, F_codelen, VAL, 3, F_prefix, VAL, "4", POP, ISSUER_MC, F_icon, VAL, ICON_MC, F_numlen
, VAL, 16, F_codelen, VAL, 3, F_prefix, VAL, "5", POP, ISSUER_VISA, F_icon, VAL, ICON_VISA, F_numlen, VAL, 16, F_codelen, VAL, 3, F_prefix, VAL, "6", POP));
const MAIN_FONT = "_serif";
const DUMMY_RECENT = Y;
const N_ORDERS_SAVED = 10;
const C_DEAD = 0x121D21;
const C_DEAD2 = 0x121D21;
const C_ITEM_DIV = std.PURPLE;
const C_ITEM_TEXT = std.BEIGE;
const C_ITEM_DEAD = std.GRAY9;
const C_ITEMLIST_FOOT = 0x4D441A;
const C_ITEMLIST_EDGE = 0x918031;
const C_BUTT_BACK = std.rgb(1, 59, 138, {});
const C_BUTT_NEXT = 0x700A48;
const C_BUTT_TEXT = std.IVORY;
const C_BUTT_BORD = std.DODGER_BLUE;
const C_BUTT_DEL = std.rgb(255, 38, 38, {});
const C_ENTRY_LO_BACK = 0x395D74;
const C_ENTRY_LO_BORD = std.DODGER_BLUE;
const C_ENTRY_LO_TEXT = C_BUTT_TEXT;
const C_BUTT_BACK_HI = 0x8AAAE5;
const C_BUTT_TEXT_HI = 0x42350;
const C_SIZE_BACK_LO = std.DARK_GREEN;
const C_SIZE_BACK_HI = C_BUTT_BACK;
const C_SIZE_FORE = std.WHITE;
const C_SIZE_TRIANGLE = 0x5D1715;
const ITEM_QTY_LIMIT = 20;
const ITEM_SIZE = 10;
const ITEM_LEADING = 12;
const ITEM_INDENT = 1;
const DESC_INDENT = 4;
const QTY_FONT = "_sans";
const BUTT_FONT = "_sans";
const DUMMY_CART = Y;
const BUTT_RADIUS = 3;
const GRADIENT_LIST = new std.a_tree("foody","GRADIENT_LIST", std.NF_TOPLEVEL|std.NF_LOGGED, std.tree_lit(_M, 149, std.F_grad_shape, VAL, std.LINEAR_GRADIENT, std.F_grad_angle
, VAL, std.GRAD_TO_BOTTOM, std.F_grad_stops, 1, std.F_stop_pos, VAL, 0, std.F_stop_color, VAL, 0xEBF4F4, POP, 2, std.F_stop_pos, VAL, 100, std.F_stop_color, VAL, 0xC2E1E1, POP
, POP));
const GRADIENT_TOTAL = new std.a_tree("foody","GRADIENT_TOTAL", std.NF_TOPLEVEL|std.NF_LOGGED, std.tree_lit(_M, 152, std.F_grad_shape, VAL, std.LINEAR_GRADIENT, std.F_grad_angle
, VAL, std.GRAD_TO_BOTTOM, std.F_grad_stops, 1, std.F_stop_pos, VAL, 0, std.F_stop_color, VAL, 0xEBF4F4, POP, 2, std.F_stop_pos, VAL, 100, std.F_stop_color, VAL, 0xD2D1DD, POP
, POP));
const FOOTER_INDENT = 4;
const SBAR_THICK = 20;
const MAX_FAVORITES = 20;
const MAX_ORDER_AMT = 250;
const MAX_DECLINES = 3;
const ANIM_START_DIAM = 25;
const ANIM_STOP_DIAM = 100;
const ANIM_THICKNESS = 10;
const ANIM_DURATION = 0.1;
const STORE_BARNEY = new std.a_image("art/barneys/restaurant_logo.jpg","STORE_BARNEY",false);
const STORE_CHICK = new std.a_image("art/chickfilA/restaurant_logo.jpg","STORE_CHICK",false);
const STORE_FINFINE = new std.a_image("art/finfine/restaurant_logo.jpg","STORE_FINFINE",false);
const STORE_JOES = new std.a_image("art/joes_diner/restaurant_logo.jpg","STORE_JOES",false);
const STORE_MCD = new std.a_image("art/mcdonalds/restaurant_logo.jpg","STORE_MCD",true,0,0);
const PIC_DUBQPCH = new std.a_image("art/mcdonalds/DubQPounder-with-Cheese.jpg","PIC_DUBQPCH",false);
const PIC_QPCH = new std.a_image("art/mcdonalds/QPounderCheese.jpg","PIC_QPCH",false);
const PIC_BIGMAC = new std.a_image("art/mcdonalds/bigmac.jpg","PIC_BIGMAC",false);
const PIC_CHEE = new std.a_image("art/mcdonalds/cheeseburger.jpg","PIC_CHEE",false);
const PIC_FRIES = new std.a_image("art/mcdonalds/fries.jpg","PIC_FRIES",false);
const PIC_APPLE = new std.a_image("art/mcdonalds/apple.png","PIC_APPLE",false);
const PIC_OATMEAL = new std.a_image("art/mcdonalds/oatmeal.jpg","PIC_OATMEAL",false);
const PIC_SALT = new std.a_image("art/mcdonalds/ingred/salt.jpg","PIC_SALT",false);
const PIC_CREAM = new std.a_image("art/mcdonalds/ingred/cream.png","PIC_CREAM",false);
const PIC_CRAN = new std.a_image("art/mcdonalds/ingred/cran_raisins.png","PIC_CRAN",false);

const C_ALERT_BACK = std.rgb(62, 34, 61, {});
const C_ALERT_BORD = std.rgb(102, 56, 101, {});
const C_ALERT_TEXT = std.rgb(236, 223, 236, {});
const ITEMV = 32;
const ITEM_PHOTO_MARG = 3;
const ITEM_PHOTO_V = std.sub(ITEMV, std.mul(ITEM_PHOTO_MARG, 2));
const ITEM_PHOTO_H = std.mul(ITEM_PHOTO_V, 1.33);
const ITEM_FONT = "Clearface Gothic LT Std 65 Medium";
const GRADIENT_ITEM = new std.a_tree("foody","GRADIENT_ITEM", std.NF_TOPLEVEL|std.NF_LOGGED, std.tree_lit(_M, 1013, std.F_grad_shape, VAL, std.LINEAR_GRADIENT, std.F_grad_angle
, VAL, std.GRAD_TO_BOTTOM, std.F_grad_stops, 1, std.F_stop_pos, VAL, 0, std.F_stop_color, VAL, 0x167E9E, POP, 2, std.F_stop_pos, VAL, 23, std.F_stop_color, VAL, 0xF586E, POP
, 3, std.F_stop_pos, VAL, 100, std.F_stop_color, VAL, 0x42049, POP, POP));
const DETAILV = 36;
const DETAIL_PHOTO_MARG = 4;
const DETAIL_PHOTO_V = std.sub(DETAILV, std.mul(DETAIL_PHOTO_MARG, 2));
const DETAIL_PHOTO_H = std.mul(DETAIL_PHOTO_V, 1.33);
const PRICEH = 40;
const DELBOX_FRACT = 6;
const END_MARKER = 12;
const ENTRYBORD = 0.5;
const ENTRYV = 18;
const LABELH = 80;
const LABEL_F_GAP = 4;
const CARDINAL = /^[0-9]*$/g;
const CREDITCARD = /^(?:3[0-9]{14}|[4-5][0-9]{15})$/g;
const ZIPCODE = /^[0-9]{5}$/g;
const MONTH = /^(?:[1-9]|0[1-9]|1[0-2])$/g;
let ANIM_ACTIVITY = new std.a_tree("foody","ANIM_ACTIVITY", std.NF_TOPLEVEL);
setv(_M, 35, ANIM_ACTIVITY, 1, new std.a_image("art/mcdonalds/animations/activity_00.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 2, new std.a_image("art/mcdonalds/animations/activity_01.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 3, new std.a_image("art/mcdonalds/animations/activity_02.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 4, new std.a_image("art/mcdonalds/animations/activity_03.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 5, new std.a_image("art/mcdonalds/animations/activity_04.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 6, new std.a_image("art/mcdonalds/animations/activity_05.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 7, new std.a_image("art/mcdonalds/animations/activity_06.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 8, new std.a_image("art/mcdonalds/animations/activity_07.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 9, new std.a_image("art/mcdonalds/animations/activity_08.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 10, new std.a_image("art/mcdonalds/animations/activity_09.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 11, new std.a_image("art/mcdonalds/animations/activity_10.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 12, new std.a_image("art/mcdonalds/animations/activity_11.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 13, new std.a_image("art/mcdonalds/animations/activity_12.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 14, new std.a_image("art/mcdonalds/animations/activity_13.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 15, new std.a_image("art/mcdonalds/animations/activity_14.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 16, new std.a_image("art/mcdonalds/animations/activity_15.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 17, new std.a_image("art/mcdonalds/animations/activity_16.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 18, new std.a_image("art/mcdonalds/animations/activity_17.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 19, new std.a_image("art/mcdonalds/animations/activity_18.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 20, new std.a_image("art/mcdonalds/animations/activity_19.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 21, new std.a_image("art/mcdonalds/animations/activity_20.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 22, new std.a_image("art/mcdonalds/animations/activity_21.png","ANIM_ACTIVITY",true));
setv(_M, 35, ANIM_ACTIVITY, 23, new std.a_image("art/mcdonalds/animations/activity_22.png","ANIM_ACTIVITY",true));


let cards_on_file = new std.a_tree("foody","cards_on_file", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let history = new std.a_tree("foody","history", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let timeslots = new std.a_tree("foody","timeslots", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let cart = new std.a_tree("foody","cart", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let menu = new std.a_tree("foody","menu", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let user = new std.a_tree("foody","user", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let intf = new std.a_tree("foody","intf", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let work = new std.a_tree("foody","work", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let input_nickname = new std.a_tree("foody","input_nickname", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let input_owner = new std.a_tree("foody","input_owner", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let input_zipcode = new std.a_tree("foody","input_zipcode", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let input_cardnum = new std.a_tree("foody","input_cardnum", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let input_expire_mm = new std.a_tree("foody","input_expire_mm", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let input_expire_yy = new std.a_tree("foody","input_expire_yy", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let input_csc = new std.a_tree("foody","input_csc", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let buttv = U;
let g_stores = new std.a_tree("foody","g_stores", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let g_nstores = U;
let g_last_dpi = 0;
let g_cartitem = null;
let mycanvas = new std.a_tree("foody","mycanvas", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let CATEGORY_PICS = new std.a_tree("foody","CATEGORY_PICS", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let HEADER_V = U;
let FOOTER_V = U;
setv(_M, 402, CATEGORY_PICS, 1, new std.a_image("art/mcdonalds/categories/01_deals.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 2, new std.a_image("art/mcdonalds/categories/02_sandwiches.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 3, new std.a_image("art/mcdonalds/categories/03_sweets.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 4, new std.a_image("art/mcdonalds/categories/04_happy_meal.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 5, new std.a_image("art/mcdonalds/categories/05_condiments.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 6, new std.a_image("art/mcdonalds/categories/06_fries.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 7, new std.a_image("art/mcdonalds/categories/07_mccafe.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 8, new std.a_image("art/mcdonalds/categories/08_bakery.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 9, new std.a_image("art/mcdonalds/categories/09_beverages.jpg","CATEGORY_PICS",false));
setv(_M, 402, CATEGORY_PICS, 10, new std.a_image("art/mcdonalds/categories/10_dollar.jpg","CATEGORY_PICS",false));

let itemlist = new std.a_tree("foody","itemlist", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let nitemlist = U;
let cartlist = new std.a_tree("foody","cartlist", std.NF_TOPLEVEL|std.NF_LOGGED);
let ncartlist = U;
let subcat_str = new std.a_tree("foody","subcat_str", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);
let subcat_size = new std.a_tree("foody","subcat_size", std.NF_TOPLEVEL|std.NF_STATEFUL|std.NF_LOGGED);

//====================
//   addcard_body
//====================
function addcard_body(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_DEAD2 });
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, ENTRYV, std.pt, addcard_cardnum_F, 0);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, ENTRYV, std.pt, addcard_expire_F, 0);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, ENTRYV, std.pt, addcard_owner_F, 0);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, ENTRYV, std.pt, addcard_zipcode_F, 0);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, ENTRYV, std.pt, addcard_nickname_F, 0);
  k.div_spa(b, 1, 10, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   addcard_cardnum
//====================
function addcard_cardnum(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 0, 4, std.pt);
  k.div_add(b, U, 0, LABELH, std.pt, addcard_cardnum_2362_F, 0);
  k.div_spa(b, 0, LABEL_F_GAP, std.pt);
  k.div_add(b, U, 0, 150, std.pt, addcard_cardnum_2365_F, 0);
  k.div_spa(b, 0, 6, std.pt);
  k.div_add(b, U, 0, std.div(std.mul(b.bounds.height, 128), 80), std.px, addcard_cardnum_2368_F, 0);
  k.div_spa(b, 0, 10, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   addcard_expire
//====================
function addcard_expire(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 0, 4, std.pt);
  k.div_add(b, U, 0, LABELH, std.pt, addcard_expire_2376_F, 0);
  k.div_spa(b, 0, LABEL_F_GAP, std.pt);
  k.div_add(b, U, 0, 35, std.pt, addcard_expire_2379_F, 0);
  k.div_add(b, U, 0, 15, std.pt, addcard_expire_2381_F, 0);
  k.div_add(b, U, 0, 35, std.pt, addcard_expire_2383_F, 0);
  k.div_add(b, U, 0, 40, std.pt, addcard_expire_2385_F, 0);
  k.div_spa(b, 0, LABEL_F_GAP, std.pt);
  k.div_add(b, U, 0, 45, std.pt, addcard_expire_2388_F, 0);
  k.div_spa(b, 0, 4, std.pt);
  k.div_spa(b, 0, 10, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   addcard_footer
//====================
function addcard_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:2, height:std.pt_to_dots(b, 0.5) }));
  std.draw_rect(b, std.addr(r), { fill:C_ITEMLIST_EDGE });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 20, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Cancel", std.LANG_ENG, _M, 1011), new std.a_function(_M, "go_mode"
  , go_mode, null, [MODE_PAYMENT]), {}]), 0);
  k.div_add(b, U, 0, 50, std.al, addcard_footer_2405_F, 0);
  if (getn(intf, F_form_ready) === Y) {
    k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.eq2(getn(intf, F_curr_mode), MODE_ADDCARD) ? std.loc("Add Card", std.LANG_ENG, _M, 
    1045) : std.loc("Update", std.LANG_ENG, _M, 1046), final_add_card_F, { back:C_BUTT_NEXT }]), 0);
  } else {
    k.div_spa(b, 0, 30, std.al);
  }
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   addcard_nickname
//====================
function addcard_nickname(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 0, 4, std.pt);
  k.div_add(b, U, 0, LABELH, std.pt, addcard_nickname_2330_F, 0);
  k.div_spa(b, 0, LABEL_F_GAP, std.pt);
  k.div_add(b, U, 0, 150, std.pt, addcard_nickname_2333_F, 0);
  k.div_spa(b, 0, 10, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   addcard_owner
//====================
function addcard_owner(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 0, 4, std.pt);
  k.div_add(b, U, 0, LABELH, std.pt, addcard_owner_2340_F, 0);
  k.div_spa(b, 0, LABEL_F_GAP, std.pt);
  k.div_add(b, U, 0, 150, std.pt, addcard_owner_2343_F, 0);
  k.div_spa(b, 0, 10, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   addcard_zipcode
//====================
function addcard_zipcode(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 0, 4, std.pt);
  k.div_add(b, U, 0, LABELH, std.pt, addcard_zipcode_2350_F, 0);
  k.div_spa(b, 0, LABEL_F_GAP, std.pt);
  k.div_add(b, U, 0, 75, std.pt, addcard_zipcode_2353_F, 0);
  k.div_add(b, U, 0, LABELH, std.pt, addcard_zipcode_2355_F, 0);
  k.div_spa(b, 0, 10, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   animate_tap
//====================
function animate_tap(b, tap_x, tap_y, next_mode) {
k.k_enter(b);
  if (SKIP_ANIMATE_TAP === Y) {
    std.path_setv(_M, 534, std.addr(intf, F_curr_mode), next_mode);
    k.k_leave(b);
    return;
  }
  std.path_setv(_M, 538, std.addr(intf, F_ripple_gx), tap_x);
  std.path_setv(_M, 539, std.addr(intf, F_ripple_gy), tap_y);
  std.path_setv(_M, 542, std.addr(intf, F_ripple_step), ANIM_START_DIAM);
  let ripple_id = std.loom_animate_num_linear(std.addr(intf, F_ripple_step), { busyflag:std.addr(intf, F_ripple_running), endval:ANIM_STOP_DIAM, duration:std.meas(ANIM_DURATION
  , std.N_sec, std.Y_Time) });
  if (next_mode !== U) {
    std.loom_timer(do_mode_change_F, { pre:ripple_id } , next_mode);
  }
k.k_leave(b);
}


//====================
//   body_contact
//====================
function body_contact(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, 15, std.pt, d_contact_number_F, 0);
  k.div_spa(b, 1, 2, std.pt);
  k.div_add(b, U, 1, 30, std.pt, butt_phone_assy_F, 0);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, 15, std.pt, d_contact_email_F, 0);
  k.div_spa(b, 1, 2, std.pt);
  k.div_add(b, U, 1, 30, std.pt, butt_email_assy_F, 0);
  k.div_spa(b, 1, 80, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   body_map
//====================
function body_map(b) {
k.k_enter(b);
  std.draw_image(b, std.addr(b.extra, std.F_box), GENERIC_MAP, {});
k.k_leave(b);
}


//====================
//   body_recent
//====================
function body_recent(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), "body recent", { size:36, fill:std.DARK_GREEN, color:std.WHITE, font:MAIN_FONT });
k.k_leave(b);
}


//====================
//   body_reorder
//====================
function body_reorder(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), "body reorder", { size:36, fill:std.DARK_GREEN, color:std.WHITE, font:MAIN_FONT });
k.k_leave(b);
}


//====================
//   butt_add_card
//====================
function butt_add_card(b, cardx) {
k.k_enter(b);
  let box = new std.a_tree("foody","box", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:5, width:std.pt_to_dots(b, 80), height:std.pt_to_dots(b, 20) }));
  std.draw_rect(b, std.addr(box), { fill:C_BUTT_BACK, corner:std.pt_to_dots(b, 4), thick:std.pt_to_dots(b, 1), color:C_BUTT_BORD });
  std.draw_str(b, std.addr(box), std.cat(std.loc("Add card #", std.LANG_ENG, _M, 1053), str.to_str(cardx, {})), { size:0.5, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   track_butt_add_card
//====================
function track_butt_add_card(b, e, cardx) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    enter_card_edit(cardx, MODE_ADDCARD);
  return Y;
  }
  return N;
}

//====================
//   butt_customize
//====================
function butt_customize(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 0, 5, std.al);
  if (getn(intf, F_curr_customizing) === Y) {
    k.div_add(b, U, 0, 120, std.pt, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Clear customizations", std.LANG_ENG, _M, 1013), do_toggle_customize_F
    , {}]), 0);
  } else {
    k.div_add(b, U, 0, 90, std.pt, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Customize  ▶", std.LANG_ENG, _M, 1014), do_toggle_customize_F
    , {}]), 0);
  }
  k.div_spa(b, 0, 35, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   butt_email
//====================
function butt_email(b) {
k.k_enter(b);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_BUTT_BACK, corner:std.pt_to_dots(b, BUTT_RADIUS) });
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("e-mail us", std.LANG_ENG, _M, 1028), { color:C_BUTT_TEXT, size:std.pt_to_dots(b, 14) });
k.k_leave(b);
}


//====================
//   track_butt_email
//====================
function track_butt_email(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    animate_tap(b, getn(e, std.F_global_x), getn(e, std.F_global_y), U);
    std.launch_url("mailto:foody@gmail.com?subject=Customer inquiry");
    return Y;
  return Y;
  }
  return N;
}

//====================
//   butt_email_assy
//====================
function butt_email_assy(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 0, 15, std.al);
  k.div_add(b, U, 0, 50, std.al, butt_email_F, 0);
  k.div_spa(b, 0, 15, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   butt_go_back
//====================
function butt_go_back(b) {
k.k_enter(b);
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:5, inset:std.pt_to_dots(b, 2) }));
  std.draw_rect(b, std.addr(r), { fill:C_BUTT_BACK, corner:std.pt_to_dots(b, BUTT_RADIUS) });
  std.draw_str(b, std.addr(b.extra, std.F_box), BACK_SS, { size:0.6, color:std.WHITE, font:BUTT_FONT });
k.k_leave(b);
}


//====================
//   track_butt_go_back
//====================
function track_butt_go_back(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    let next_mode = U;
    var case2 = getn(intf, F_curr_mode);
    if (case2 === MODE_PAYMENT) {
      next_mode = MODE_CART;
    } else {
      next_mode = MODE_STORE_LIST;
    }
    animate_tap(b, getn(e, std.F_global_x), getn(e, std.F_global_y), next_mode);
    return Y;
  return Y;
  }
  return N;
}

//====================
//   butt_go_payment
//====================
function butt_go_payment(b) {
k.k_enter(b);
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:5, inset:std.pt_to_dots(b, 2) }));
  std.draw_rect(b, std.addr(r), { fill:C_BUTT_BACK, corner:std.pt_to_dots(b, BUTT_RADIUS) });
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Proceed", std.LANG_ENG, _M, 1029), { size:0.6, color:std.WHITE, font:BUTT_FONT });
k.k_leave(b);
}


//====================
//   track_butt_go_payment
//====================
function track_butt_go_payment(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    animate_tap(b, getn(e, std.F_global_x), getn(e, std.F_global_y), MODE_PAYMENT);
  return Y;
  }
  return N;
}

//====================
//   butt_go_reorder
//====================
function butt_go_reorder(b) {
k.k_enter(b);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_BUTT_BACK, opacity:0.6, corner:std.pt_to_dots(b, 8) });
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Reorder", std.LANG_ENG, _M, 1035), { size:0.4, color:std.WHITE, indent:std.pt_to_dots(b, 2), font:BUTT_FONT });
k.k_leave(b);
}


//====================
//   track_butt_go_reorder
//====================
function track_butt_go_reorder(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    animate_tap(b, getn(e, std.F_global_x), getn(e, std.F_global_y), MODE_REORDER);
  return Y;
  }
  return N;
}

//====================
//   butt_go_transmit
//====================
function butt_go_transmit(b) {
k.k_enter(b);
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:5, inset:std.pt_to_dots(b, 2) }));
  std.draw_rect(b, std.addr(r), { fill:0xAD4703, corner:std.pt_to_dots(b, BUTT_RADIUS) });
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Place order", std.LANG_ENG, _M, 1030), { size:0.6, color:std.WHITE, font:BUTT_FONT });
k.k_leave(b);
}


//====================
//   track_butt_go_transmit
//====================
function track_butt_go_transmit(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    std.log("NOT YET");
  return Y;
  }
  return N;
}

//====================
//   butt_phone
//====================
function butt_phone(b) {
k.k_enter(b);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_BUTT_BACK, corner:std.pt_to_dots(b, BUTT_RADIUS) });
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Dial us", std.LANG_ENG, _M, 1027), { color:C_BUTT_TEXT, size:std.pt_to_dots(b, 14) });
k.k_leave(b);
}


//====================
//   track_butt_phone
//====================
function track_butt_phone(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    animate_tap(b, getn(e, std.F_global_x), getn(e, std.F_global_y), U);
    std.launch_url("tel:5104821229");
    return Y;
  return Y;
  }
  return N;
}

//====================
//   butt_phone_assy
//====================
function butt_phone_assy(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 0, 15, std.al);
  k.div_add(b, U, 0, 50, std.al, butt_phone_F, 0);
  k.div_spa(b, 0, 15, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   butt_simple
//====================
function butt_simple(b, label, action, _o=null) {
var back = C_BUTT_BACK; if ((_o != null) && _o.hasOwnProperty("back")) back = _o.back;
k.k_enter(b);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:back, corner:std.mul(b.bounds.height, 0.3), thick:std.pt_to_dots(b, 1), pos:0, color:C_BUTT_BORD });
  std.draw_str(b, std.addr(b.extra, std.F_box), label, { size:0.6, indent:std.pt_to_dots(b, 4), color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   track_butt_simple
//====================
function track_butt_simple(b, e, label, action, _o=null) {
var back = C_BUTT_BACK; if ((_o != null) && _o.hasOwnProperty("back")) back = _o.back;
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    std.unfreeze_calc(action);
  return Y;
  }
  return N;
}

//====================
//   butt_view_cart
//====================
function butt_view_cart(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_BUTT_BACK, corner:std.mul(b.bounds.height, 0.3), thick:std.pt_to_dots(b, 1), pos:0, color:C_BUTT_BORD });
  k.div_spa(b, 0, 6, std.pt);
  k.div_add(b, U, 0, 17, std.pt, d_cart_count_F, 0);
  k.div_add(b, U, 0, 10, std.al, butt_view_cart_898_F, 0);
  k.div_spa(b, 0, 3, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   track_butt_view_cart
//====================
function track_butt_view_cart(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    std.path_setv(_M, 902, std.addr(intf, F_curr_mode), MODE_CART);
  return Y;
  }
  return N;
}

//====================
//   cart_detail_footer
//====================
function cart_detail_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Cancel", std.LANG_ENG, _M, 1011), new std.a_function(_M, "go_mode"
  , go_mode, null, [MODE_CART]), {}]), 0);
  k.div_spa(b, 0, 70, std.al);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Update Cart", std.LANG_ENG, _M, 1012), do_update_item_F, { back
  :C_BUTT_NEXT }]), 0);
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   cart_footer
//====================
function cart_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:2, height:std.pt_to_dots(b, 0.5) }));
  std.draw_rect(b, std.addr(r), { fill:C_ITEMLIST_EDGE });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [MORE_SS, new std.a_function(_M, "go_mode", go_mode, null, [MODE_ITEM_LIST
  ]), {}]), 0);
  k.div_add(b, U, 0, 50, std.al, cart_footer_1843_F, 0);
  let ncart = qty_in_cart(null);
  if (std.gt2(ncart, 0)) {
    k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Payment  ⮕", std.LANG_ENG, _M, 1021), new std.a_function(_M, 
    "go_mode", go_mode, null, [MODE_PAYMENT]), { back:C_BUTT_NEXT }]), 0);
  } else {
    k.div_spa(b, 0, 30, std.al);
  }
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   cart_itemlist
//====================
function cart_itemlist(b) {
k.k_enter(b);
k.div_begin(b, new std.a_function(_M, "cart_itemlist_cell", cart_itemlist_cell, null), false, false, true);
  k.div_add(b, U, 0, 10, std.al, null, 0);
  k.div_spa(b, 0, std.add(SBAR_THICK, 2), std.pt);
  std.trunc_tree(_M, 1601, std.addr(cartlist));
  var loop3 = new std.a_loop({ across:std.addr(cart, F_cart_items) });
  while (loop3.next()) {
  var cartx = loop3.index;
    k.div_add(b, U, 1, ITEMV, std.pt, null, 0);
    k.div_spa(b, 1, 3, std.pt);
    std.append_val(_M, 1605, cartx, std.addr(cartlist));
  }
  ncartlist = std.tree_count(std.addr(cartlist));
  k.div_spa(b, 1, 3, std.pt);
  k.div_add(b, U, 1, 18, std.pt, null, 0);
  k.div_end(b);
  k.draw_grid(b);
k.k_leave(b);
}


//====================
//   cart_itemlist_cell
//====================
function cart_itemlist_cell(b) {
  k.k_enter(b);
  if (std.eq2(getn(b.extra, std.F_cell_seq), std.add(ncartlist, 1))) {
    d_cart_subtot(b);
  } else {
    let itemx = getn(cartlist, getn(b.extra, std.F_cell_seq));
    d_cartitem_row(b, std.addr(cart, F_cart_items, itemx));
  }
  k.k_leave(b);
}

//====================
//   category_picker
//====================
function category_picker(b) {
k.k_enter(b);
k.div_begin(b, new std.a_function(_M, "category_picker_cell", category_picker_cell, null), false, false, false);
  let NCOL = U;
  let NROW = U;
  var case4 = getn(menu, F_ncats);
  if (case4 === 1) {
    NCOL = 2;
    NROW = 3;
  } else if (case4 === 7) {
    NCOL = 3;
    NROW = 3;
  } else if (case4 === 10) {
    NCOL = 3;
    NROW = 4;
  } else {
    NCOL = 4;
    NROW = 4;
  }
  const GAP = std.div(b.bounds.height, 50);
  k.div_spa(b, 0, GAP, std.px);
  var loop5 = new std.a_loop({ limit:NCOL });
  while (loop5.next()) {
    k.div_add(b, U, 0, 100, std.al, null, 0);
    k.div_spa(b, 0, GAP, std.px);
  }
  k.div_spa(b, 1, GAP, std.px);
  var loop6 = new std.a_loop({ limit:NROW });
  while (loop6.next()) {
    k.div_add(b, U, 1, 100, std.al, null, 0);
    k.div_spa(b, 1, GAP, std.px);
  }
  k.div_end(b);
  k.draw_grid(b);
k.k_leave(b);
}


//====================
//   category_picker_cell
//====================
function category_picker_cell(b) {
  k.k_enter(b);
  if (std.le2(getn(b.extra, std.F_cell_seq), getn(menu, F_ncats))) {
    const RADIUS = std.pt_to_dots(b, 3);
    let groupx = getn(b.extra, std.F_cell_seq);
    let box = new std.a_tree("foody","box", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:5, aspect:2.25 }));
    let label = gets(menu, F_categories, groupx, F_name);
    let image = std.get_image(CATEGORY_PICS, groupx);
    if (image === null) {
      std.draw_rect(b, std.addr(box), { fill:C_BUTT_BACK, corner:RADIUS, thick:std.pt_to_dots(b, 1), pos:0, color:C_BUTT_BORD });
      if (label !== null) {
        std.draw_str(b, std.addr(box), label, { font:MAIN_FONT, color:C_BUTT_TEXT, size:0.3, indent:std.pt_to_dots(b, 4) });
      }
    } else {
      std.draw_image(b, std.addr(box), image, { corner:RADIUS });
      if (label !== null) {
        const SIZE = 0.8;
        let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(box), pin:7, height:std.mul(getn(box, std.F_height), 0.3) }));
        std.draw_rect(b, std.addr(r), { corner_bl:RADIUS, corner_br:RADIUS, fill:C_BUTT_BACK, opacity:1 });
        std.draw_str(b, std.addr(r), label, { font:MAIN_FONT, color:C_BUTT_TEXT, indent:std.pt_to_dots(b, 2), size:SIZE });
      }
      std.draw_rect(b, std.addr(box), { corner:RADIUS, thick:std.pt_to_dots(b, 1), pos:0, color:C_BUTT_BORD });
    }
  }
  k.k_leave(b);
}

//====================
//   track_category_picker
//====================
function track_category_picker(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    let newcat = getn(b.extra, std.F_cell_seq);
    if (std.le2(newcat, getn(menu, F_ncats))) {
      animate_tap(b, getn(e, std.F_global_x), getn(e, std.F_global_y), MODE_ITEM_LIST);
      std.path_setv(_M, 989, std.addr(intf, F_curr_cat), newcat);
    }
  return Y;
  }
  return N;
}

//====================
//   d_add_card
//====================
function d_add_card(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 100, std.al, addcard_body_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, addcard_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_card_butts
//====================
function d_card_butts(b, cardx) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 25, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, ["X", new std.a_function(_M, "do_card_del", do_card_del, null, [cardx]
  ), {}]), 0);
  k.div_spa(b, 1, 6, std.al);
  k.div_add(b, U, 1, 40, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Edit", std.LANG_ENG, _M, 1016), new std.a_function(_M, "enter_card_edit"
  , enter_card_edit, null, [cardx, MODE_EDITCARD]), {}]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_card_info
//====================
function d_card_info(b, cardx) {
k.k_enter(b);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_BUTT_BACK, corner:std.mul(b.bounds.height, 0.1), thick:std.pt_to_dots(b, 1), color:C_BUTT_BORD });
  let card = std.addr(cards_on_file, cardx);
  let w = std.div(b.bounds.width, 5);
  let iconbox = new std.a_tree("foody","iconbox", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), left:std.pt_to_dots(b, 3), top:std.pt_to_dots(b, 3), width:w, height
  :std.div(w, 1.6) }));
  let issuer = get_issuer_ptr(gets(card, F_cardnum));
  if (issuer !== null) {
    std.draw_image(b, std.addr(iconbox), std.get_image(issuer, F_icon), {});
  }
  let numbox = new std.a_tree("foody","numbox", 0, std.solve_rect({ basis:std.addr(iconbox), left:std.add(std.add(getn(iconbox, std.F_left), getn(iconbox, std.F_width)), std.pt_to_dots(
  b, 6)), right:b.bounds.width }));
  std.draw_str(b, std.addr(numbox), std.cat("...", str.subset(gets(card, F_cardnum), { from:1, len:4, rev:Y })), { size:0.6, just:std.LEFT, color:C_BUTT_TEXT });
  if (is_card_expired(card) === Y) {
    std.draw_str(b, std.addr(numbox), std.loc("(expired)", std.LANG_ENG, _M, 1049), { size:0.6, just:std.RIGHT, indent:std.pt_to_dots(b, 4), color:std.ORANGE });
  }
  std.draw_str(b, std.addr(b.extra, std.F_box), gets(card, F_nickname), { size:0.23, vert:0.7, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   track_d_card_info
//====================
function track_d_card_info(b, e, cardx) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    std.path_setv(_M, 2525, std.addr(intf, F_curr_pay_cardx), cardx);
    if (is_card_expired(std.addr(cards_on_file, cardx)) === Y) {
      ask_yesno(std.loc("This card has expired. Either fix this card, or choose a different card.", std.LANG_ENG, _M, 1050), new std.a_function(_M, "enter_card_edit", enter_card_edit
      , null, [cardx, MODE_EDITCARD]), { ok_str:std.loc("Fix", std.LANG_ENG, _M, 1051) });
    } else {
      std.path_setv(_M, 2533, std.addr(intf, F_curr_mode), MODE_SUBMIT);
    }
  return Y;
  }
  return N;
}

//====================
//   d_cart
//====================
function d_cart(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, cart_itemlist_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, cart_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cart_count
//====================
function d_cart_count(b) {
k.k_enter(b);
  let ncart = qty_in_cart(null);
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:6, inset_y:std.pt_to_dots(b, 1.6), round:Y }));
  std.draw_oval(b, std.addr(r), { fill:std.CRIMSON, thick:std.round(std.pt_to_dots(b, 0.6), {}), color:std.WHITE });
  std.draw_str(b, std.addr(r), str.to_str(ncart, {}), { size:0.7, color:std.WHITE });
k.k_leave(b);
}


//====================
//   d_cart_detail
//====================
function d_cart_detail(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, detail_body_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, cart_detail_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cart_subtot
//====================
function d_cart_subtot(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 0, 10, std.al, d_cart_subtot_1631_F, 0);
  k.div_add(b, U, 0, PRICEH, std.pt, d_cart_subtot_1633_F, 0);
  k.div_spa(b, 0, 24, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cartitem_row
//====================
function d_cartitem_row(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { grad:std.addr(GRADIENT_ITEM) });
  k.div_spa(b, 0, ITEM_PHOTO_MARG, std.pt);
  let pic = std.get_image(menu, F_items, gets(item, F_key), F_pic);
  if (pic !== null) {
    k.div_add(b, U, 0, ITEM_PHOTO_H, std.pt, new std.a_function(_M, "d_cartitem_row_pic", d_cartitem_row_pic, null, [pic]), 0);
  }
  k.div_spa(b, 0, std.mul(ITEM_PHOTO_MARG, 2), std.pt);
  k.div_add(b, U, 0, 10, std.al, new std.a_function(_M, "d_cartitem_row_B", d_cartitem_row_B, null, [item]), 0);
  k.div_add(b, U, 0, 24, std.pt, new std.a_function(_M, "d_cartrow_butts", d_cartrow_butts, null, [item]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cartitem_row_B
//====================
function d_cartitem_row_B(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 20, std.al, new std.a_function(_M, "d_cartrow_upper", d_cartrow_upper, null, [item]), 0);
  k.div_add(b, U, 1, 24, std.al, new std.a_function(_M, "d_mod_list_qty", d_mod_list_qty, null, [item]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cartitem_row_pic
//====================
function d_cartitem_row_pic(b, pic) {
k.k_enter(b);
  std.draw_image(b, std.addr(b.extra, std.F_box), pic, { corner:std.pt_to_dots(b, 4) });
k.k_leave(b);
}


//====================
//   d_cartrow_butts
//====================
function d_cartrow_butts(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 25, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, ["X", new std.a_function(_M, "do_cartitem_del", do_cartitem_del, null, [
  item]), {}]), 0);
  k.div_spa(b, 1, 4, std.al);
  k.div_add(b, U, 1, 40, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Edit", std.LANG_ENG, _M, 1016), new std.a_function(_M, "do_cartitem_edit"
  , do_cartitem_edit, null, [item]), {}]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cartrow_qty
//====================
function d_cartrow_qty(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 20, std.al, new std.a_function(_M, "d_cartrow_qty_1794", d_cartrow_qty_1794, null, [item]), 0);
  k.div_add(b, U, 1, 30, std.al, new std.a_function(_M, "d_cartrow_qty_butts", d_cartrow_qty_butts, null, [item]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cartrow_qty_butts
//====================
function d_cartrow_qty_butts(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  if (std.gt2(getn(item, F_qty), 1)) {
    k.div_add(b, U, 0, 20, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [MINUS_SS, new std.a_function(_M, "do_cartrow_minus", do_cartrow_minus
    , null, [item]), {}]), 0);
  } else {
    k.div_spa(b, 0, 20, std.al);
  }
  k.div_spa(b, 0, 2, std.al);
  if (std.lt2(getn(item, F_qty), ITEM_QTY_LIMIT)) {
    k.div_add(b, U, 0, 20, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, ["+", new std.a_function(_M, "do_cartrow_plus", do_cartrow_plus, null, [
    item]), {}]), 0);
  } else {
    k.div_spa(b, 0, 20, std.al);
  }
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cartrow_upper
//====================
function d_cartrow_upper(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 0, 10, std.al, new std.a_function(_M, "d_cartrow_upper_1697", d_cartrow_upper_1697, null, [item]), 0);
  k.div_spa(b, 0, 2, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cat_footer
//====================
function d_cat_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("⇪  Exit", std.LANG_ENG, _M, 1006), do_exit_store_F, {}]), 0);
  k.div_add(b, U, 0, 70, std.al, d_cat_footer_842_F, 0);
  let ncart = qty_in_cart(null);
  if (std.gt2(ncart, 0)) {
    k.div_add(b, U, 0, 30, std.al, butt_view_cart_F, 0);
  } else {
    k.div_spa(b, 0, 30, std.al);
  }
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_cat_itemlist
//====================
function d_cat_itemlist(b) {
k.k_enter(b);
k.div_begin(b, new std.a_function(_M, "d_cat_itemlist_cell", d_cat_itemlist_cell, null), false, false, true);
  k.div_add(b, U, 0, 10, std.al, null, 0);
  k.div_spa(b, 0, std.add(SBAR_THICK, 3), std.pt);
  std.trunc_tree(_M, 1034, std.addr(itemlist));
  var loop7 = new std.a_loop({ across:std.addr(menu, F_categories, getn(intf, F_curr_cat), F_subcats) });
  while (loop7.next()) {
  var subcatx = loop7.index;
  var subcat_ptr = loop7.path.clone();
    var loop8 = new std.a_loop({ across:std.addr(subcat_ptr, F_keys) });
    while (loop8.next()) {
    var cx = loop8.count;
    var mykey = loop8.val;
      std.append_tree(_M, 1038, std.tree_lit(_M, 1038, F_key, VAL, mykey, F_subcat, VAL, subcatx), std.addr(itemlist));
      if (std.gt2(cx, 1)) {
        k.div_spa(b, 1, 1.5, std.pt);
      }
      k.div_add(b, U, 1, ITEMV, std.pt, null, 0);
    }
  }
  k.div_add(b, U, 1, END_MARKER, std.pt, null, 0);
  nitemlist = std.add(std.tree_count(std.addr(itemlist)), 1);
  k.div_end(b);
  k.draw_grid(b);
k.k_leave(b);
}


//====================
//   d_cat_itemlist_cell
//====================
function d_cat_itemlist_cell(b) {
  k.k_enter(b);
  if (std.eq2(getn(b.extra, std.F_cell_seq), nitemlist)) {
    std.draw_str(b, std.addr(b.extra, std.F_box), "❖     ❖     ❖     ❖     ❖", { size:0.6, color:0x1B85B1 });
  } else {
    let item_key = gets(itemlist, getn(b.extra, std.F_cell_seq), F_key);
    let item_ptr = std.addr(menu, F_items, item_key);
    d_item_row(b, item_ptr);
  }
  k.k_leave(b);
}

//====================
//   track_d_cat_itemlist
//====================
function track_d_cat_itemlist(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    if (std.lt2(getn(b.extra, std.F_cell_seq), nitemlist)) {
      item_select(gets(itemlist, getn(b.extra, std.F_cell_seq), F_key));
    }
  return Y;
  }
  return N;
}

//====================
//   d_contact_email
//====================
function d_contact_email(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), "foody@gmail.com", { size:std.pt_to_dots(b, 12), just:std.CENTER, indent:std.pt_to_dots(b, 4), color:std.WHITE });
k.k_leave(b);
}


//====================
//   d_contact_number
//====================
function d_contact_number(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), "(510) 482-1229", { size:std.pt_to_dots(b, 12), just:std.CENTER, indent:std.pt_to_dots(b, 4), color:std.WHITE });
k.k_leave(b);
}


//====================
//   d_custom_name
//====================
function d_custom_name(b, item) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), gets(item, F_name), { size:0.4, just:std.LEFT, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   d_custom_pic
//====================
function d_custom_pic(b, item) {
k.k_enter(b);
  std.draw_image(b, std.addr(b.extra, std.F_box), std.get_image(item, F_pic), { corner:std.pt_to_dots(b, 4) });
k.k_leave(b);
}


//====================
//   d_custom_sizes
//====================
function d_custom_sizes(b, mod, item) {
k.k_enter(b);
  let hh = std.round(std.min(std.pt_to_dots(b, 55), std.div(b.bounds.width, std.tree_count(std.addr(item, F_sizes)))), {});
  k.k_isolate(b, b.bounds, "pick_item_size", new std.a_function(_M, "pick_item_size", pick_item_size, track_pick_item_size, [item, hh, 10, std.addr(mod, F_sizex)]));
k.k_leave(b);
}


//====================
//   d_customization
//====================
function d_customization(b, mod) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  let item = std.addr(menu, F_items, gets(mod, F_key));
  const CORNER = std.pt_to_dots(b, 6);
  k.div_spa(b, 0, ITEM_PHOTO_MARG, std.pt);
  if (std.get_image(item, F_pic) !== null) {
    k.div_add(b, U, 0, ITEM_PHOTO_H, std.pt, new std.a_function(_M, "d_custom_pic", d_custom_pic, null, [item]), 0);
  }
  k.div_spa(b, 0, ITEM_PHOTO_MARG, std.pt);
  let size = new std.a_tree("foody","size", 0);
  std.draw_str(b, std.addr(b.extra, std.F_box), gets(item, F_name), { size:0.4, metrics:std.addr(size) });
  k.div_add(b, U, 0, getn(size, std.F_x), std.px, new std.a_function(_M, "d_custom_name", d_custom_name, null, [item]), 0);
  k.div_spa(b, 0, 3, std.pt);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "d_custom_sizes", d_custom_sizes, null, [mod, item]), 0);
  k.div_spa(b, 0, std.add(SBAR_THICK, 2), std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_delbox
//====================
function d_delbox(b, box) {
k.k_enter(b);
  std.draw_rect(b, box, { fill:C_BUTT_BACK, corner:std.pt_to_dots(b, 2), opacity:0.7 });
  const LL = 25;
  const RR = 75;
  const TT = LL;
  const BB = RR;
  let data1 = new std.a_tree("foody","data1", 0, std.tree_lit(_M, 2197, 1, 1, VAL, LL, 2, VAL, TT, POP, 2, 1, VAL, RR, 2, VAL, BB));
  std.draw_polygon(b, std.addr(data1), { thick:std.pt_to_dots(b, 0.8), color:C_BUTT_DEL, viewbox:box });
  let data2 = new std.a_tree("foody","data2", 0, std.tree_lit(_M, 2199, 1, 1, VAL, RR, 2, VAL, TT, POP, 2, 1, VAL, LL, 2, VAL, BB));
  std.draw_polygon(b, std.addr(data2), { thick:std.pt_to_dots(b, 0.8), color:C_BUTT_DEL, viewbox:box });
k.k_leave(b);
}


//====================
//   d_desc1
//====================
function d_desc1(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "d_desc1_1155", d_desc1_1155, null, [item]), 0);
  if (gets(item, F_name2) !== null) {
    k.div_spa(b, 0, 2, std.pt);
    k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "d_desc1_1160", d_desc1_1160, null, [item]), 0);
    k.div_spa(b, 0, 1, std.pt);
  }
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_desc2
//====================
function d_desc2(b, item, sizex) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), gen_price_ss(item, sizex), { just:std.LEFT, size:0.8, shrink:N, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_desc3
//====================
function d_desc3(b, item) {
k.k_enter(b);
k.k_leave(b);
}


//====================
//   d_det_desc
//====================
function d_det_desc(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 0, 40, std.pt, d_qty_label_F, 0);
  k.div_spa(b, 0, DETAIL_PHOTO_MARG, std.pt);
  k.div_add(b, U, 0, DETAIL_PHOTO_H, std.pt, d_det_desc_1470_F, 0);
  k.div_spa(b, 0, std.mul(DETAIL_PHOTO_MARG, 1.5), std.pt);
  k.div_add(b, U, 0, 100, std.al, d_det_desc2_F, 0);
  k.div_spa(b, 0, std.add(SBAR_THICK, 3), std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_det_desc2
//====================
function d_det_desc2(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, 13, std.pt, d_det_desc2_1484_F, 0);
  k.div_add(b, U, 1, 13, std.pt, d_det_desc2_1487_F, 0);
  k.div_spa(b, 1, 10, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_foody_main
//====================
function d_foody_main(b) {
k.k_enter(b);
  if (std.ne2(b.dpi, g_last_dpi)) {
    regen_css(b);
    g_last_dpi = b.dpi;
  }
  let lang = getn(std.runtime, std.F_ui_language);
  var case9 = getn(intf, F_curr_mode);
  if (case9 === MODE_ITEM_LIST) {
    std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEM_DEAD });
  } else {
    std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_DEAD });
  }
  HEADER_V = std.min(std.pt_to_dots(b, 18), std.mul(b.bounds.height, 0.07));
  FOOTER_V = std.min(std.pt_to_dots(b, 24), std.mul(b.bounds.height, 0.09));
  var case10 = getn(intf, F_curr_mode);
  if (case10 === MODE_STORE_LIST) {
    home_pick_store(b);
  } else if (case10 === MODE_CAT_LIST) {
    home_pick_cat(b);
  } else if (case10 === MODE_ITEM_LIST) {
    home_pick_item(b);
  } else if (case10 === MODE_ITEM_DETAIL) {
    d_item_detail(b);
  } else if (case10 === MODE_CART_DETAIL) {
    d_cart_detail(b);
  } else if (case10 === MODE_CART) {
    d_cart(b);
  } else if (case10 === MODE_PAYMENT) {
    d_pick_payment(b);
  } else if (case10 === MODE_ADDCARD || case10 === MODE_EDITCARD) {
    d_add_card(b);
  } else if (case10 === MODE_SUBMIT) {
    d_submit(b);
  } else if (case10 === MODE_MAP) {
    home_map(b);
  } else if (case10 === MODE_SETTINGS) {
    d_settings(b);
  } else if (case10 === MODE_RECENT) {
    home_recent(b);
  } else if (case10 === MODE_CONTACT) {
    home_contact(b);
  } else if (case10 === MODE_REORDER) {
    home_reorder(b);
  } else {
    std.draw_str(b, std.addr(b.extra, std.F_box), std.cat("Bad Mode ", str.to_str(getn(intf, F_curr_mode), {show_u:Y, digits:0})), { size:std.pt_to_dots(b, 14), color:std.WHITE
     });
  }
  if (getn(intf, F_busy_running) === Y) {
    var b2=k.k_layer(b, d_tot_overlay2_F, { area:std.addr(b.extra, std.F_box) });
    d_tot_overlay2(b2);
  }
  if (getn(intf, F_modal_active) === Y) {
    var b3=k.k_layer(b, d_modal_overlay_F, { area:std.addr(b.extra, std.F_box) });
    d_modal_overlay(b3);
  }
k.k_leave(b);
}


//====================
//   d_item_desc
//====================
function d_item_desc(b, item, sizex) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 1, 1, std.pt);
  k.div_add(b, U, 1, 11, std.al, new std.a_function(_M, "d_desc1", d_desc1, null, [item]), 0);
  k.div_add(b, U, 1, 9, std.al, new std.a_function(_M, "d_desc2", d_desc2, null, [item, sizex]), 0);
  k.div_add(b, U, 1, 9, std.al, new std.a_function(_M, "d_desc3", d_desc3, null, [item]), 0);
  k.div_spa(b, 1, 2, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_item_detail
//====================
function d_item_detail(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, detail_body_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, item_detail_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_item_row
//====================
function d_item_row(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  const CORNER = std.pt_to_dots(b, 6);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEM_DEAD });
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:3, width:b.bounds.width }));
  std.draw_rect(b, std.addr(r), { grad:std.addr(GRADIENT_ITEM), corner:CORNER });
  k.div_spa(b, 0, ITEM_PHOTO_MARG, std.pt);
  if (std.get_image(item, F_pic) !== null) {
    k.div_add(b, U, 0, ITEM_PHOTO_H, std.pt, new std.a_function(_M, "d_item_row_1127", d_item_row_1127, null, [item]), 0);
  }
  k.div_spa(b, 0, std.mul(ITEM_PHOTO_MARG, 2), std.pt);
  k.div_add(b, U, 0, 10, std.al, new std.a_function(_M, "d_item_desc", d_item_desc, null, [item, getn(item, F_default_sizex)]), 0);
  k.div_spa(b, 0, 2, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_lang_row
//====================
function d_lang_row(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 0, 30, std.al, d_lang_row_1884_F, 0);
  k.div_add(b, U, 0, 70, std.al, pick_language_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_main_footer
//====================
function d_main_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  let BUTTH = std.min(std.mul(b.bounds.width, 0.3), std.pt_to_dots(b, 90));
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, BUTTH, std.px, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Add Restaurant", std.LANG_ENG, _M, 1032), do_add_store_F, 
  {}]), 0);
  k.div_spa(b, 0, 10, std.al);
  k.div_add(b, U, 0, 60, std.pt, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("⚙\ufe0f Settings", std.LANG_ENG, _M, 1033), new std.a_function(_M, 
  "go_mode", go_mode, null, [MODE_SETTINGS]), {}]), 0);
  k.div_spa(b, 0, 10, std.al);
  k.div_add(b, U, 0, BUTTH, std.px, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("Login", std.LANG_ENG, _M, 1034), do_login_F, {}]), 0);
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_mod_list
//====================
function d_mod_list(b, item) {
k.k_enter(b);
  const MAXLINES = 2;
  let first = Y;
  let lines = new std.a_tree("foody","lines", 0, std.tree_lit(_M, 1706, 1, VAL, ""));
  let linex = 1;
  let chunk_size = new std.a_tree("foody","chunk_size", 0);
  let line_size = new std.a_tree("foody","line_size", 0);
  let chunk = null;
  let ingr = null;
  var loop11 = new std.a_loop({ across:std.addr(item, F_mods) });
  while (loop11.next()) {
  var mod = loop11.path.clone();
    ingr = std.addr(menu, F_items, gets(mod, F_key));
    if (std.eq2(getn(mod, F_sizex), getn(ingr, F_default_sizex))) {
      continue;
    }
    if (first === Y) {
      first = N;
    } else {
      std.tree_cat(_M, 1722, ", ", std.addr(lines, linex));
    }
    let prefix = gets(ingr, F_sizes, getn(mod, F_sizex), F_name);
    if (std.eq2(prefix, std.loc("None", std.LANG_ENG, _M, 1017))) {
      prefix = std.loc("No", std.LANG_ENG, _M, 1018);
    }
    chunk = std.cat(prefix, " ", gets(ingr, F_name));
    std.draw_str(b, std.addr(b.extra, std.F_box), chunk, { metrics:std.addr(chunk_size), size:0.6, shrink:N });
    std.draw_str(b, std.addr(b.extra, std.F_box), gets(lines, linex), { metrics:std.addr(line_size), size:0.6, shrink:N });
    std.log(std.cat("mod chunk=[", chunk, "], line=[", gets(lines, linex), "], chunk.x=", str.to_str(getn(chunk_size, std.F_x), {show_u:Y, digits:0}), ", line.x=", str.to_str(
    getn(line_size, std.F_x), {show_u:Y, digits:0})));
    if (std.gt2(std.add(getn(chunk_size, std.F_x), getn(line_size, std.F_x)), b.bounds.width)) {
      std.log("  too big to fit, wrap to next line");
      if (std.lt2(linex, MAXLINES)) {
        std.tree_cat(_M, 1744, "\n", std.addr(lines, linex));
        linex = std.add(linex, 1);
        std.path_setv(_M, 1746, std.addr(lines, linex), chunk);
        std.log(std.cat("  wrapped to line ", str.to_str(linex, {show_u:Y, digits:0})));
      } else {
        std.tree_cat(_M, 1750, "...", std.addr(lines, linex));
        std.log(std.cat("  truncating line to [", gets(lines, linex), "]"));
        break;
      }
    } else {
      std.tree_cat(_M, 1755, chunk, std.addr(lines, linex));
    }
  }
  let glob = "";
  var loop12 = new std.a_loop({ across:std.addr(lines) });
  while (loop12.next()) {
  chunk = loop12.val;
    glob = std.cat(glob, chunk);
  }
  std.draw_str(b, std.addr(b.extra, std.F_box), glob, { wrap:Y, size:std.div(0.6, linex), just:std.LEFT, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_mod_list_qty
//====================
function d_mod_list_qty(b, item) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 0, 10, std.al, new std.a_function(_M, "d_mod_list", d_mod_list, null, [item]), 0);
  k.div_add(b, U, 0, PRICEH, std.pt, new std.a_function(_M, "d_mod_list_qty_1685", d_mod_list_qty_1685, null, [item]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_modal_overlay
//====================
function d_modal_overlay(b) {
k.k_enter(b);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:std.BLACK, opacity:0.7 });
  let H = std.min(std.mul(b.bounds.width, 10.7), std.pt_to_dots(b, 200));
  let V = std.min(std.mul(b.bounds.height, 10.3), std.pt_to_dots(b, 120));
  let totbox = new std.a_tree("foody","totbox", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:5, width:H, height:V }));
  const BUTTH = std.mul(H, 0.28);
  const BUTTV = std.mul(V, 0.14);
  let iconbox = new std.a_tree("foody","iconbox", 0, std.solve_rect({ basis:std.addr(totbox), inset_w:std.mul(H, 0.08), inset_n:std.mul(V, 0.2), width:std.mul(H, 0.15), height
  :std.mul(H, 0.15) }));
  let promptbox = new std.a_tree("foody","promptbox", 0, std.solve_rect({ basis:std.addr(totbox), inset_w:std.mul(H, 0.26), inset_n:std.mul(V, 0.1), width:std.mul(H, 0.7), height
  :std.mul(V, 0.65) }));
  let cancelbox = new std.a_tree("foody","cancelbox", 0, std.solve_rect({ basis:std.addr(totbox), inset_w:std.mul(H, 0.1), inset_n:std.mul(V, 0.78), width:BUTTH, height:BUTTV
   }));
  let okbox = new std.a_tree("foody","okbox", 0, std.solve_rect({ basis:std.addr(totbox), right:std.sub(std.add(getn(totbox, std.F_left), H), std.mul(H, 0.1)), inset_n:std.mul(
  V, 0.78), width:BUTTH, height:BUTTV }));
  std.draw_rect(b, std.addr(totbox), { fill:C_ALERT_BACK, thick:std.pt_to_dots(b, 3), color:C_ALERT_BORD, corner:std.div(V, 16) });
  std.draw_str(b, std.addr(iconbox), "⚠\ufe0f", { size:0.8, color:C_ALERT_TEXT, shrink:N });
  std.draw_str(b, std.addr(promptbox), gets(intf, F_modal_prompt), { color:C_ALERT_TEXT, size:std.pt_to_dots(b, 12), just:std.LEFT, vert:0.2, wrap:Y });
  if ((gets(intf, F_modal_cancel) !== null && std.ne2(gets(intf, F_modal_cancel), ""))) {
    var b4=k.k_layer(b, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [gets(intf, F_modal_cancel), do_alert_cancel_F, {}]), { area:cancelbox });
    butt_simple(b4, gets(intf, F_modal_cancel), do_alert_cancel_F, {});
  }
  var b5=k.k_layer(b, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [gets(intf, F_modal_ok), do_alert_ok_F, {}]), { area:okbox });
  butt_simple(b5, gets(intf, F_modal_ok), do_alert_ok_F, {});
k.k_leave(b);
}


//====================
//   track_d_modal_overlay
//====================
function track_d_modal_overlay(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    if (std.eq2(getn(e, std.F_keycode), std.KEYCODE_ESC)) {
      do_alert_cancel();
      return Y;
    } else if (std.eq2(getn(e, std.F_keycode), std.KEYCODE_ENTER)) {
      do_alert_ok();
      return Y;
    } else {
      return N;
    }
  return Y;
  }
  return N;
}

//====================
//   d_payment_card
//====================
function d_payment_card(b, cardx) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  if (gets(cards_on_file, cardx, F_cardnum) === null) {
    k.div_add(b, U, 0, 10, std.al, new std.a_function(_M, "butt_add_card", butt_add_card, track_butt_add_card, [cardx]), 0);
  } else {
    k.div_add(b, U, 0, 10, std.al, new std.a_function(_M, "d_card_info", d_card_info, track_d_card_info, [cardx]), 0);
    k.div_add(b, U, 0, 24, std.pt, new std.a_function(_M, "d_card_butts", d_card_butts, null, [cardx]), 0);
  }
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_pick_payment
//====================
function d_pick_payment(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 100, std.al, payment_body_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, payment_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_qty_butts
//====================
function d_qty_butts(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  if (std.gt2(getn(work, F_qty), 1)) {
    k.div_add(b, U, 0, 20, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [MINUS_SS, do_qty_minus_F, {}]), 0);
  } else {
    k.div_spa(b, 0, 20, std.al);
  }
  k.div_spa(b, 0, 2, std.al);
  if (std.lt2(getn(work, F_qty), ITEM_QTY_LIMIT)) {
    k.div_add(b, U, 0, 20, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, ["+", do_qty_plus_F, {}]), 0);
  } else {
    k.div_spa(b, 0, 20, std.al);
  }
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_qty_label
//====================
function d_qty_label(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 20, std.al, d_qty_label_1493_F, 0);
  k.div_add(b, U, 1, 30, std.al, d_qty_butts_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_recent_order
//====================
function d_recent_order(b, recent) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), recent, { just:std.LEFT, size:std.pt_to_dots(b, 12), color:std.WHITE, font:MAIN_FONT });
k.k_leave(b);
}


//====================
//   d_reorder
//====================
function d_reorder(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  let recent = null;
  if ((recent === null && DUMMY_RECENT === Y)) {
    recent = "1 veggie combo\n1 rum cake";
  }
  if (recent !== null) {
    k.div_spa(b, 0, 2, std.al);
    k.div_add(b, U, 0, 40, std.al, d_reorder_butt1_F, 0);
    k.div_spa(b, 0, 2, std.al);
    k.div_add(b, U, 0, 60, std.al, new std.a_function(_M, "d_recent_order", d_recent_order, null, [recent]), 0);
    k.div_spa(b, 0, 1, std.al);
  }
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_reorder_butt1
//====================
function d_reorder_butt1(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 1, 100, std.al);
  k.div_add(b, U, 1, buttv, std.px, butt_go_reorder_F, 0);
  k.div_spa(b, 1, 100, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_settings
//====================
function d_settings(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, d_settings_body_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, settings_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_settings_body
//====================
function d_settings_body(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 1, 10, std.pt);
  k.div_add(b, U, 1, 18, std.pt, d_settings_body_1877_F, 0);
  k.div_spa(b, 1, 20, std.pt);
  k.div_add(b, U, 1, 20, std.pt, d_lang_row_F, 0);
  k.div_spa(b, 1, 10, std.al);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_store_picker
//====================
function d_store_picker(b) {
k.k_enter(b);
k.div_begin(b, new std.a_function(_M, "d_store_picker_cell", d_store_picker_cell, null), false, false, true);
  const ICON_ASPECT = 2.25;
  let avail = std.sub(b.bounds.width, std.pt_to_dots(b, 50));
  const NPROP = std.round_down(std.div(avail, std.pt_to_dots(b, 120)), {});
  const NCOLS = std.max(2, NPROP);
  const GAP = std.round(std.div(avail, std.mul(NCOLS, 30)), {});
  const NROWS = std.round_up(std.div(g_nstores, NCOLS), {});
  const CELLH = std.round_up(std.div(std.sub(avail, std.mul(GAP, std.add(NCOLS, 1))), NCOLS), {});
  const CELLV = std.round_up(std.div(CELLH, ICON_ASPECT), {});
  std.log(std.cat("avail=", str.to_str(avail, {show_u:Y, digits:0}), ", NPROP=", str.to_str(NPROP, {show_u:Y, digits:0}), ", NCOL=", str.to_str(NCOLS, {show_u:Y, digits:0}), 
  ", GAP=", str.to_str(GAP, {show_u:Y, digits:0}), ", NROWS=", str.to_str(NROWS, {show_u:Y, digits:0}), ", CELLH=", str.to_str(CELLH, {show_u:Y, digits:0}), ", CELLV=", str.to_str(
  CELLV, {show_u:Y, digits:0})));
  k.div_spa(b, 0, 10, std.al);
  var loop13 = new std.a_loop({ limit:NCOLS });
  while (loop13.next()) {
    k.div_add(b, U, 0, CELLH, std.px, null, 0);
    k.div_spa(b, 0, 10, std.al);
  }
  k.div_spa(b, 0, std.add(SBAR_THICK, 2), std.pt);
  var loop14 = new std.a_loop({ limit:NROWS });
  while (loop14.next()) {
    k.div_add(b, U, 1, CELLV, std.px, null, 0);
    k.div_spa(b, 1, GAP, std.px);
  }
  k.div_add(b, U, 1, END_MARKER, std.pt, null, 0);
  k.div_end(b);
  k.draw_grid(b);
k.k_leave(b);
}


//====================
//   d_store_picker_cell
//====================
function d_store_picker_cell(b) {
  k.k_enter(b);
  let storex = getn(b.extra, std.F_cell_seq);
  if (std.le2(storex, g_nstores)) {
    if (std.get_image(g_stores, storex, F_pic) === null) {
      std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:std.DODGER_BLUE, corner:std.div(b.bounds.height, 14) });
      std.draw_str(b, std.addr(b.extra, std.F_box), gets(g_stores, storex, F_name), { size:std.pt_to_dots(b, 14), indent:std.pt_to_dots(b, 5), color:std.WHITE });
    } else {
      std.draw_image(b, std.addr(b.extra, std.F_box), std.get_image(g_stores, storex, F_pic), { corner:std.div(b.bounds.height, 14) });
    }
    const DELH = std.div(b.bounds.height, DELBOX_FRACT);
    let delbox = new std.a_tree("foody","delbox", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:3, width:DELH, height:DELH }));
    d_delbox(b, std.addr(delbox));
  }
  k.k_leave(b);
}

//====================
//   track_d_store_picker
//====================
function track_d_store_picker(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    let sx = getn(b.extra, std.F_cell_seq);
    if (std.lt2(sx, g_nstores)) {
      std.path_setv(_M, 2138, std.addr(intf, F_curr_store), std.addr(g_stores, sx));
      const BOXH = std.add(std.div(b.bounds.height, DELBOX_FRACT), std.pt_to_dots(b, 2));
      let delbox = new std.a_tree("foody","delbox", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:3, width:BOXH, height:BOXH }));
      if (std.rect_is_inside(std.addr(delbox), { x:getn(e, std.F_x), y:getn(e, std.F_y) }) === Y) {
      } else {
        std.path_setv(_M, 2147, std.addr(intf, F_curr_mode), MODE_CAT_LIST);
      }
    }
  return Y;
  }
  return N;
}

//====================
//   d_subcat_picker
//====================
function d_subcat_picker(b) {
k.k_enter(b);
  const ITEM_GAP = std.pt_to_dots(b, 14);
  const TSIZE = 0.4;
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:0x2E300D });
  std.copy_tree(_M, 2242, std.tree_lit(_M, 2242, 1, VAL, "Coffee & Classics", 2, VAL, "Frappé", 3, VAL, "Macchiato", 4, VAL, "Mocha", 5, VAL, "Smoothie", 6, VAL, "Latte", 7, VAL, 
  "Cappucino", 8, VAL, "Americano"), std.addr(subcat_str));
  let ss = null;
  var loop15 = new std.a_loop({ across:std.addr(subcat_str) });
  while (loop15.next()) {
  var ix = loop15.index;
  ss = loop15.val;
    std.draw_str(b, std.addr(b.extra, std.F_box), ss, { size:TSIZE, metrics:std.addr(subcat_size, ix) });
    std.log(std.cat("subcat ", ss, " size=", str.xy_to_str(addr(subcat_size, ix))));
  }
  std.draw_str(b, std.addr(b.extra, std.F_box), "Sunday   Monday", { size:TSIZE, color:std.WHITE });
k.k_leave(b);
}


//====================
//   d_submit
//====================
function d_submit(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 100, std.al, submit_body_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, submit_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   d_tot_overlay :CANVAS
//====================
function d_tot_overlay(b) {
  std.clear_rect(b, std.addr(b.extra, std.F_box));
  if (getn(intf, F_busy_running) === Y) {
    let img = std.get_image(ANIM_ACTIVITY, getn(intf, F_busy_framex));
    std.draw_image(b, null, img, { grow:N, x:50, y:50 });
  }
  if (getn(intf, F_ripple_running) === Y) {
    let step = getn(intf, F_ripple_step);
    std.log(std.cat("in animation, cx=", str.to_str(getn(intf, F_ripple_gx), {show_u:Y, digits:0}), ", cy=", str.to_str(getn(intf, F_ripple_gy), {show_u:Y, digits:0}), ", step="
    , str.to_str(getn(intf, F_ripple_step), {show_u:Y, digits:0})));
    let box = new std.a_tree("foody","box", 0, std.solve_rect({ cx:getn(intf, F_ripple_gx), cy:getn(intf, F_ripple_gy), width:std.pt_to_dots(b, step), height:std.pt_to_dots(b, 
    step) }));
    let opacity = std.interpolate(step, ANIM_START_DIAM, ANIM_STOP_DIAM, 1, 0.3, {});
    std.draw_oval(b, std.addr(box), { color:std.DODGER_BLUE, thick:std.pt_to_dots(b, ANIM_THICKNESS), pos:0.5 });
  }
}


//====================
//   d_tot_overlay2
//====================
function d_tot_overlay2(b) {
k.k_enter(b);
  let img = std.get_image(ANIM_ACTIVITY, getn(intf, F_busy_framex));
  std.draw_image(b, null, img, { grow:N, x:50, y:50 });
k.k_leave(b);
}


//====================
//   detail_body
//====================
function detail_body(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, true);
  k.div_add(b, U, 1, DETAILV, std.pt, d_det_desc_F, 0);
  if (std.gt2(std.tree_count(std.addr(work, F_menuitem, std.FOL, F_sizes)), 1)) {
    k.div_spa(b, 1, 2, std.pt);
    k.div_add(b, U, 1, 22, std.pt, new std.a_function(_M, "pick_item_size", pick_item_size, track_pick_item_size, [std.get_ptr(work, F_menuitem), std.pt_to_dots(b, 55), 50, std.addr(
    work, F_sizex)]), 0);
  }
  if (is_customizable(std.get_ptr(work, F_menuitem)) === Y) {
    k.div_spa(b, 1, 4, std.pt);
    k.div_add(b, U, 1, 16, std.pt, butt_customize_F, 0);
    if (getn(intf, F_curr_customizing) === Y) {
      var loop16 = new std.a_loop({ across:std.addr(work, F_mods) });
      while (loop16.next()) {
      var mod = loop16.path.clone();
        k.div_spa(b, 1, 4, std.pt);
        k.div_add(b, U, 1, 22, std.pt, new std.a_function(_M, "d_customization", d_customization, null, [mod]), 0);
      }
    }
  }
k.div_end(b);
k.k_leave(b);
}


//====================
//   draw_language_cell
//====================
function draw_language_cell(b, box, ix, hilite) {
k.k_enter(b);
  let back = U;
  let text = U;
  if (hilite === Y) {
    back = C_BUTT_BACK_HI;
    text = C_BUTT_TEXT_HI;
  } else {
    back = C_BUTT_BACK;
    text = C_BUTT_TEXT;
  }
  std.draw_rect(b, box, { fill:back, thick:std.pt_to_dots(b, 0.7), color:C_BUTT_BORD });
  std.draw_str(b, box, std.get_generic(LANGUAGE_NAMES, ix), { size:0.55, color:text, bold:hilite });
k.k_leave(b);
}


//====================
//   draw_size_cell
//====================
function draw_size_cell(b, box, item, variant, hilite) {
k.k_enter(b);
  let back = U;
  let text = U;
  if (hilite === Y) {
    back = C_BUTT_BACK_HI;
    text = C_BUTT_TEXT_HI;
  } else {
    back = C_BUTT_BACK;
    text = C_BUTT_TEXT;
  }
  std.draw_rect(b, box, { fill:back, thick:std.pt_to_dots(b, 0.7), color:C_BUTT_BORD });
  let ss = gets(variant, F_name);
  if (std.gt2(getn(variant, F_price), 0)) {
    ss = std.cat(ss, "\n");
    if (std.eq2(getn(item, F_kind), INGRED)) {
      ss = std.cat(ss, "+");
    }
    ss = std.cat(ss, "$", str.to_str(getn(variant, F_price), { digits:2, zero_drop:N }));
  }
  let size = std.mul(getn(box, std.F_height), 0.36);
  std.draw_str(b, box, ss, { size:size, color:text, leading:std.mul(size, 1.2), wrap:Y, bold:hilite });
k.k_leave(b);
}


//====================
//   generic_footer
//====================
function generic_footer(b, label) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), label, { size:0.6 });
k.k_leave(b);
}


//====================
//   hdr_label
//====================
function hdr_label(b, label) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), label, { size:0.4, color:std.WHITE, font:MAIN_FONT });
k.k_leave(b);
}


//====================
//   home_contact
//====================
function home_contact(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, body_contact_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, new std.a_function(_M, "generic_footer", generic_footer, null, [std.loc("Contacts", std.LANG_ENG, _M, 1026)]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   home_map
//====================
function home_map(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, body_map_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, new std.a_function(_M, "generic_footer", generic_footer, null, [std.loc("Map", std.LANG_ENG, _M, 1024)]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   home_pick_cat
//====================
function home_pick_cat(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, category_picker_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, d_cat_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   home_pick_item
//====================
function home_pick_item(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  let catx = getn(intf, F_curr_cat);
  let cat_ss = gets(menu, F_categories, catx, F_name);
  k.div_add(b, U, 1, 10, std.al, d_cat_itemlist_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, new std.a_function(_M, "itemlist_footer", itemlist_footer, null, [cat_ss]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   home_pick_store
//====================
function home_pick_store(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 100, std.al, d_store_picker_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, d_main_footer_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   home_recent
//====================
function home_recent(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, body_recent_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, new std.a_function(_M, "generic_footer", generic_footer, null, [std.loc("Recent Orders", std.LANG_ENG, _M, 1025)]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   home_reorder
//====================
function home_reorder(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_add(b, U, 1, 10, std.al, body_reorder_F, 0);
  k.div_add(b, U, 1, FOOTER_V, std.px, new std.a_function(_M, "generic_footer", generic_footer, null, [std.loc("Recent Orders", std.LANG_ENG, _M, 1025)]), 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   item_detail_footer
//====================
function item_detail_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [BACK_SS, new std.a_function(_M, "go_mode", go_mode, null, [MODE_ITEM_LIST
  ]), {}]), 0);
  k.div_spa(b, 0, 70, std.al);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [std.loc("+  Add to Cart", std.LANG_ENG, _M, 1010), do_add_to_cart_F, 
  { back:C_BUTT_NEXT }]), 0);
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   itemlist_footer
//====================
function itemlist_footer(b, category) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:2, height:std.pt_to_dots(b, 0.5) }));
  std.draw_rect(b, std.addr(r), { fill:C_ITEMLIST_EDGE });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [BACK_SS, new std.a_function(_M, "go_mode", go_mode, null, [MODE_CAT_LIST
  ]), {}]), 0);
  k.div_add(b, U, 0, 70, std.al, new std.a_function(_M, "itemlist_footer_821", itemlist_footer_821, null, [category]), 0);
  let ncart = qty_in_cart(null);
  if (std.gt2(ncart, 0)) {
    k.div_add(b, U, 0, 30, std.al, butt_view_cart_F, 0);
  } else {
    k.div_spa(b, 0, 30, std.al);
  }
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   main_draw
//====================
export function main_draw(b) {
k.k_root2(b);
k.k_enter(b);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:std.GRAY8 });
  const SCALE = 0.5;
  const DEVV = 750;
  const DEVH = 1334;
  const DPI = 326;
  const NOTCHV = 90;
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:5, width:std.mul(DEVH, SCALE), height:std.mul(DEVV, SCALE) }));
  var b6=k.k_layer(b, d_foody_main_F, { area:r, dpi:std.mul(DPI, SCALE) });
  d_foody_main(b6);
k.k_leave(b);
}


//====================
//   payment_body
//====================
function payment_body(b) {
k.k_enter(b);
k.div_begin(b, new std.a_function(_M, "payment_body_cell", payment_body_cell, null), false, false, false);
  const BOXH = std.min(std.pt_to_dots(b, 120), std.mul(b.bounds.width, 0.42));
  const BOXV = std.min(std.pt_to_dots(b, 38), std.mul(BOXH, 0.4));
  k.div_spa(b, 0, 10, std.al);
  k.div_add(b, U, 0, BOXH, std.px, null, 0);
  k.div_spa(b, 0, 10, std.al);
  k.div_add(b, U, 0, BOXH, std.px, null, 0);
  k.div_spa(b, 0, 10, std.al);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, BOXV, std.px, null, 0);
  k.div_spa(b, 1, 10, std.al);
  k.div_add(b, U, 1, BOXV, std.px, null, 0);
  k.div_spa(b, 1, 10, std.al);
  k.div_end(b);
  //--under
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_DEAD2 });
  k.draw_grid(b);
k.k_leave(b);
}


//====================
//   payment_body_cell
//====================
function payment_body_cell(b) {
  k.k_enter(b);
  d_payment_card(b, getn(b.extra, std.F_cell_seq));
  k.k_leave(b);
}

//====================
//   payment_footer
//====================
function payment_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:2, height:std.pt_to_dots(b, 0.5) }));
  std.draw_rect(b, std.addr(r), { fill:C_ITEMLIST_EDGE });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 20, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [CART_SS, new std.a_function(_M, "go_mode", go_mode, null, [MODE_ITEM_LIST
  ]), {}]), 0);
  k.div_add(b, U, 0, 50, std.al, payment_footer_2744_F, 0);
  k.div_spa(b, 0, 20, std.al);
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   pick_item_size
//====================
function pick_item_size(b, item, cellh, horzpct, selx) {
k.k_enter(b);
k.div_begin(b, new std.a_function(_M, "pick_item_size_cell", pick_item_size_cell, null, [item, cellh, horzpct, selx]), false, false, false);
  let NCOL = std.tree_count(std.addr(item, F_sizes));
  k.div_spa(b, 0, horzpct, std.al);
  var loop17 = new std.a_loop({ limit:NCOL });
  while (loop17.next()) {
    k.div_add(b, U, 0, cellh, std.px, null, 0);
  }
  k.div_spa(b, 0, std.sub(100, horzpct), std.al);
  k.div_add(b, U, 1, 10, std.al, null, 0);
  k.div_end(b);
  k.draw_grid(b);
k.k_leave(b);
}


//====================
//   pick_item_size_cell
//====================
function pick_item_size_cell(b, item, cellh, horzpct, selx) {
  k.k_enter(b);
  draw_size_cell(b, std.addr(b.extra, std.F_box), item, std.addr(item, F_sizes, getn(b.extra, std.F_cell_seq)), std.eq4(getn(b.extra, std.F_cell_seq), getn(selx)));
  k.k_leave(b);
}

//====================
//   track_pick_item_size
//====================
function track_pick_item_size(b, e, item, cellh, horzpct, selx) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    if (getn(b.extra, std.F_cell_seq) !== U) {
      std.path_setv(_M, 1409, selx, getn(b.extra, std.F_cell_seq));
    }
  return Y;
  }
  return N;
}

//====================
//   pick_language
//====================
function pick_language(b) {
k.k_enter(b);
k.div_begin(b, new std.a_function(_M, "pick_language_cell", pick_language_cell, null), false, false, false);
  const NCOL = std.tree_count(std.addr(LANGUAGES_AVAIL));
  const cellh = std.round(std.min(std.pt_to_dots(b, 70), std.div(b.bounds.width, NCOL)), {});
  const horzpct = 20;
  k.div_spa(b, 0, horzpct, std.al);
  var loop18 = new std.a_loop({ limit:NCOL });
  while (loop18.next()) {
    k.div_add(b, U, 0, cellh, std.px, null, 0);
  }
  k.div_spa(b, 0, std.sub(100, horzpct), std.al);
  k.div_add(b, U, 1, 10, std.al, null, 0);
  k.div_end(b);
  k.draw_grid(b);
k.k_leave(b);
}


//====================
//   pick_language_cell
//====================
function pick_language_cell(b) {
  k.k_enter(b);
  let langx = std.get_generic(LANGUAGES_AVAIL, getn(b.extra, std.F_cell_seq));
  draw_language_cell(b, std.addr(b.extra, std.F_box), getn(b.extra, std.F_cell_seq), std.eq4(langx, getn(std.runtime, std.F_ui_language)));
  k.k_leave(b);
}

//====================
//   track_pick_language
//====================
function track_pick_language(b, e) {
  //---------------
  //   on EV_TAP
  //---------------
  if (std.getn(e, std.F_evkind) == std.EV_TAP) {
    std.path_setv(_M, 1360, std.addr(std.runtime, std.F_ui_language), std.get_generic(LANGUAGES_AVAIL, getn(b.extra, std.F_cell_seq)));
    std.log(std.cat("language is now ", str.to_str(getn(std.runtime, std.F_ui_language), {show_u:Y, digits:0})));
  return Y;
  }
  return N;
}

//====================
//   regen_css
//====================
function regen_css(b) {
  std.path_setv(_M, 592, std.addr(intf, F_sbar_pixels), std.pt_to_dots(b, SBAR_THICK));
  std.log(std.cat("regen_css, pts=", str.to_str(SBAR_THICK, {show_u:Y, digits:0}), ", pixels=", str.to_str(getn(intf, F_sbar_pixels), {show_u:Y, digits:0})));
  let css = std.cat("::-webkit-scrollbar { width:", str.to_str(getn(intf, F_sbar_pixels), {show_u:Y, digits:0}), "px; }", "\n::-webkit-scrollbar-track {\n\tbackground-color:#422B1E;\n    box-shadow: inset 0 0 4pt #4e6e17; \n    border-radius: 6pt; }\n::-webkit-scrollbar-thumb { \n    background: linear-gradient(90deg, #97461a 0%, #fbd8c5 30%, #6c2e16 83%, #efdbcd 100%); \n\tborder-style:solid;\n\tborder-color:black;\n\tborder-width:1pt;\n    border-radius: 6pt; }\n ::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(90deg, #d76489 0%, #fcf1f6 20%, #f4d7df 40%, #e69bb2 60%, #cf3c69 80%, #5c172c 100%); \n\tborder-style:solid;\n\tborder-color:black;\n\tborder-width:1pt;\n    border-radius: 6pt; }"
  );
  std.css_append(css);
}


//====================
//   settings_footer
//====================
function settings_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:2, height:std.pt_to_dots(b, 0.5) }));
  std.draw_rect(b, std.addr(r), { fill:C_ITEMLIST_EDGE });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 30, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [BACK_SS, new std.a_function(_M, "go_mode", go_mode, null, [MODE_STORE_LIST
  ]), {}]), 0);
  k.div_add(b, U, 0, 50, std.al, settings_footer_1867_F, 0);
  k.div_spa(b, 0, 30, std.al);
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   submit_body
//====================
function submit_body(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  k.div_spa(b, 1, 10, std.pt);
  k.div_add(b, U, 1, 24, std.pt, submit_body_2760_F, 0);
k.div_end(b);
k.k_leave(b);
}


//====================
//   submit_footer
//====================
function submit_footer(b) {
k.k_enter(b);
k.div_begin(b, null, false, false, false);
  std.draw_rect(b, std.addr(b.extra, std.F_box), { fill:C_ITEMLIST_FOOT });
  let r = new std.a_tree("foody","r", 0, std.solve_rect({ basis:std.addr(b.extra, std.F_box), pin:2, height:std.pt_to_dots(b, 0.5) }));
  std.draw_rect(b, std.addr(r), { fill:C_ITEMLIST_EDGE });
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
  k.div_add(b, U, 0, 20, std.al, new std.a_function(_M, "butt_simple", butt_simple, track_butt_simple, [BACK_SS, new std.a_function(_M, "go_mode", go_mode, null, [MODE_CART]
  ), {}]), 0);
  k.div_add(b, U, 0, 50, std.al, submit_footer_2772_F, 0);
  k.div_spa(b, 0, 20, std.al);
  k.div_spa(b, 0, FOOTER_INDENT, std.pt);
k.div_end(b);
k.k_leave(b);
}


//====================
//   abandon_cart
//====================
function abandon_cart() {
  std.trunc_tree(_M, 863, std.addr(cart, F_cart_items));
  gen_cart_totals();
  std.path_setv(_M, 867, std.addr(intf, F_curr_mode), MODE_STORE_LIST);
}


//====================
//   ask_yesno
//====================
function ask_yesno(prompt, action, _o=null) {
var cancel_str = std.loc("Cancel", std.LANG_ENG, _M, 1011); if ((_o != null) && _o.hasOwnProperty("cancel_str")) cancel_str = _o.cancel_str;
var ok_str = std.loc("Yes", std.LANG_ENG, _M, 1031); if ((_o != null) && _o.hasOwnProperty("ok_str")) ok_str = _o.ok_str;
  std.path_setv(_M, 2158, std.addr(intf, F_modal_prompt), prompt);
  std.path_setv(_M, 2159, std.addr(intf, F_modal_cancel), cancel_str);
  std.path_setv(_M, 2160, std.addr(intf, F_modal_ok), ok_str);
  std.path_setv(_M, 2161, std.addr(intf, F_modal_active), Y);
  std.path_setv(_M, 2162, std.addr(intf, F_modal_action), action);
}


//====================
//   calc_work_totals
//====================
function calc_work_totals() {
  let base_price = getn(menu, F_items, gets(work, F_key), F_sizes, getn(work, F_sizex), F_price);
  let total_mods = 0;
  let some_mods = N;
  var loop19 = new std.a_loop({ across:std.addr(work, F_mods) });
  while (loop19.next()) {
  var mod = loop19.path.clone();
    if (std.ne2(getn(mod, F_sizex), getn(menu, F_items, gets(mod, F_key), F_default_sizex))) {
      some_mods = Y;
      std.path_setv(_M, 1266, std.addr(mod, F_cost), getn(menu, F_items, gets(mod, F_key), F_sizes, getn(mod, F_sizex), F_price));
      total_mods = std.add(total_mods, getn(mod, F_cost));
    }
  }
  std.path_setv(_M, 1269, std.addr(work, F_has_mods), some_mods);
  std.path_setv(_M, 1272, std.addr(work, F_per_price), std.add(base_price, total_mods));
  std.path_setv(_M, 1273, std.addr(work, F_adjustment), 0);
  std.path_setv(_M, 1274, std.addr(work, F_item_total), std.add(std.mul(getn(work, F_per_price), getn(work, F_qty)), getn(work, F_adjustment)));
}


//====================
//   card_to_inputs
//====================
function card_to_inputs(card) {
  std.path_setv(_M, 2433, std.addr(input_nickname, std.F_in_value), gets(card, F_nickname));
  std.path_setv(_M, 2434, std.addr(input_owner, std.F_in_value), gets(card, F_cardholder));
  std.path_setv(_M, 2435, std.addr(input_cardnum, std.F_in_value), gets(card, F_cardnum));
  std.path_setv(_M, 2436, std.addr(input_zipcode, std.F_in_value), gets(card, F_zipcode));
  std.path_setv(_M, 2437, std.addr(input_csc, std.F_in_value), gets(card, F_csc));
  std.path_setv(_M, 2438, std.addr(input_expire_mm, std.F_in_value), str.to_str(getn(card, F_expire_mm), {}));
  std.path_setv(_M, 2439, std.addr(input_expire_yy, std.F_in_value), str.to_str(std.rem(getn(card, F_expire_yyyy), 100, {}), {}));
}


//====================
//   check_card_form
//====================
function check_card_form() {
  std.path_setv(_M, 2625, std.addr(intf, F_curr_issuer), get_issuer_ptr(gets(input_cardnum, std.F_in_value)));
  if (std.get_ptr(intf, F_curr_issuer) !== null) {
    std.path_setv(_M, 2632, std.addr(input_cardnum, std.F_in_minlen), getn(intf, F_curr_issuer, std.FOL, F_numlen));
    std.path_setv(_M, 2633, std.addr(input_cardnum, std.F_in_maxlen), getn(intf, F_curr_issuer, std.FOL, F_numlen));
    std.path_setv(_M, 2634, std.addr(input_csc, std.F_in_minlen), getn(intf, F_curr_issuer, std.FOL, F_codelen));
    std.path_setv(_M, 2635, std.addr(input_csc, std.F_in_maxlen), getn(intf, F_curr_issuer, std.FOL, F_codelen));
  }
  std.validate_input(std.addr(input_nickname));
  std.validate_input(std.addr(input_owner));
  std.validate_input(std.addr(input_zipcode));
  std.validate_input(std.addr(input_cardnum));
  std.validate_input(std.addr(input_expire_mm));
  std.validate_input(std.addr(input_expire_yy));
  std.validate_input(std.addr(input_csc));
  std.path_setv(_M, 2658, std.addr(intf, F_form_ready), std.and4(getn(input_nickname, std.F_in_ok), std.and4(getn(input_owner, std.F_in_ok), std.and4(getn(input_zipcode, std.F_in_ok
  ), std.and4(getn(input_cardnum, std.F_in_ok), std.and4(getn(input_expire_mm, std.F_in_ok), std.and4(getn(input_expire_yy, std.F_in_ok), getn(input_csc, std.F_in_ok))))))))
  ;
  std.log(std.cat("..end check_card_form, form_ready=", str.to_str(getn(intf, F_form_ready), {show_u:Y, digits:0})));
}


//====================
//   do_add_store
//====================
function do_add_store() {
  std.log("NOT YET - do_add_store");
}


//====================
//   do_add_to_cart
//====================
function do_add_to_cart() {
  std.log(std.cat("adding to cart, key=", gets(work, F_key), ", work.qty=", str.to_str(getn(work, F_qty), {show_u:Y, digits:0})));
  calc_work_totals();
  std.append_tree(_M, 1285, std.addr(work), std.addr(cart, F_cart_items));
  gen_cart_totals();
  std.path_setv(_M, 1291, std.addr(intf, F_curr_mode), MODE_ITEM_LIST);
}


//====================
//   do_alert_cancel
//====================
function do_alert_cancel() {
  std.path_setv(_M, 730, std.addr(intf, F_modal_active), N);
}


//====================
//   do_alert_ok
//====================
function do_alert_ok() {
  std.path_setv(_M, 734, std.addr(intf, F_modal_active), N);
  if (std.get_func(intf, F_modal_action) !== null) {
    std.unfreeze_calc(std.get_func(intf, F_modal_action));
  }
}


//====================
//   do_card_del
//====================
function do_card_del(cardx) {
  std.log("TAP do_card_del");
  ask_yesno(std.loc("Are you sure you want to delete this card?", std.LANG_ENG, _M, 1052), new std.a_function(_M, "do_card_del2", do_card_del2, null, [cardx]), {});
}


//====================
//   do_card_del2
//====================
function do_card_del2(cardx) {
  std.log("delete the actual card");
  std.clear_tree(_M, 2550, std.addr(cards_on_file, cardx));
}


//====================
//   do_cartitem_del
//====================
function do_cartitem_del(item) {
  g_cartitem = item;
  ask_yesno(str.str_inject(std.loc("Are you sure you want to delete the $1?", std.LANG_ENG, _M, 1019), gets(menu, F_items, gets(item, F_key), F_name)), do_cartitem_del2_F, {}
  );
}


//====================
//   do_cartitem_del2
//====================
function do_cartitem_del2() {
  std.clear_tree(_M, 1829, g_cartitem);
  gen_cart_totals();
}


//====================
//   do_cartitem_edit
//====================
function do_cartitem_edit(item) {
  std.log(std.cat("do_cartitem_edit, key=", gets(item, F_key)));
  std.path_setv(_M, 1772, std.addr(intf, F_curr_edit_item), item);
  std.copy_tree(_M, 1775, item, std.addr(work));
  std.path_setv(_M, 1778, std.addr(intf, F_curr_customizing), getn(item, F_has_mods));
  std.path_setv(_M, 1781, std.addr(intf, F_curr_mode), MODE_CART_DETAIL);
}


//====================
//   do_cartrow_minus
//====================
function do_cartrow_minus(item) {
  std.tree_sub(_M, 1812, 1, std.addr(item, F_qty));
}


//====================
//   do_cartrow_plus
//====================
function do_cartrow_plus(item) {
  std.tree_add(_M, 1817, 1, std.addr(item, F_qty));
}


//====================
//   do_exit_store
//====================
function do_exit_store() {
  if (std.gt2(std.tree_count(std.addr(cart, F_cart_items)), 0)) {
    ask_yesno(std.loc("Are you sure you want to leave the restaurant?\nYour cart will be emptied.", std.LANG_ENG, _M, 1008), abandon_cart_F, {});
  } else {
    std.path_setv(_M, 858, std.addr(intf, F_curr_mode), MODE_STORE_LIST);
  }
}


//====================
//   do_login
//====================
function do_login() {
  std.log("NOT YET - do_login");
}


//====================
//   do_mode_change
//====================
function do_mode_change(next_mode) {
  std.path_setv(_M, 525, std.addr(intf, F_curr_mode), next_mode);
}


//====================
//   do_qty_minus
//====================
function do_qty_minus() {
  std.tree_sub(_M, 1510, 1, std.addr(work, F_qty));
}


//====================
//   do_qty_plus
//====================
function do_qty_plus() {
  std.tree_add(_M, 1514, 1, std.addr(work, F_qty));
}


//====================
//   do_toggle_customize
//====================
function do_toggle_customize() {
  std.toggle(_M, 1458, std.addr(intf, F_curr_customizing));
  if (getn(intf, F_curr_customizing) === N) {
    reset_work_mods();
  }
}


//====================
//   do_update_item
//====================
function do_update_item() {
  std.log("do_update_item");
  calc_work_totals();
  std.copy_tree(_M, 1226, std.addr(work), std.addr(intf, F_curr_edit_item, std.FOL));
  gen_cart_totals();
  std.path_setv(_M, 1232, std.addr(intf, F_curr_mode), MODE_CART);
}


//====================
//   enter_card_edit
//====================
function enter_card_edit(cardx, newmode) {
  std.path_setv(_M, 2568, std.addr(intf, F_curr_pay_cardx), cardx);
  std.path_setv(_M, 2569, std.addr(intf, F_curr_mode), newmode);
  reset_ccard_fields();
  if (std.eq2(newmode, MODE_EDITCARD)) {
    card_to_inputs(std.addr(cards_on_file, cardx));
  }
  check_card_form();
}


//====================
//   final_add_card
//====================
function final_add_card() {
  let newcard = new std.a_tree("foody","newcard", 0, inputs_to_card());
  if (is_card_expired(std.addr(newcard)) === Y) {
    ask_yesno(std.loc("This card has already expired, and cannot be added", std.LANG_ENG, _M, 1047), null, { cancel_str:"", ok_str:std.loc("Ok", std.LANG_ENG, _M, 1048) });
  } else {
    std.log(std.cat("storing new card into slot ", str.to_str(getn(intf, F_curr_pay_cardx), {show_u:Y, digits:0})));
    std.copy_tree(_M, 2426, std.addr(newcard), std.addr(cards_on_file, getn(intf, F_curr_pay_cardx)));
    std.path_setv(_M, 2427, std.addr(intf, F_curr_mode), MODE_PAYMENT);
  }
}


//====================
//   find_in_cart
//====================
function find_in_cart(targ_key, targ_size) {
  var loop20 = new std.a_loop({ across:std.addr(cart, F_cart_items) });
  while (loop20.next()) {
  var id = loop20.index;
  var p = loop20.path.clone();
    if ((std.eq2(gets(p, F_key), targ_key) && std.eq2(getn(p, F_sizex), targ_size))) {
      return id;
    }
  }
  return U;
}


//====================
//   gen_cart_item_desc
//====================
function gen_cart_item_desc(cartitem) {
  let menuitem = std.addr(menu, F_items, gets(cartitem, F_key));
  let result = std.cat(str.to_str(getn(cartitem, F_qty), {}), " ");
  let ss = gets(menuitem, F_sizes, getn(cartitem, F_sizex), F_name);
  if (ss !== null) {
    result = std.cat(result, ss, " ");
  }
  result = std.cat(result, gets(menuitem, F_name));
  return result;
}


//====================
//   gen_cart_totals
//====================
function gen_cart_totals() {
  let sum = 0;
  let cart_item = null;
  var loop21 = new std.a_loop({ across:std.addr(cart, F_cart_items) });
  while (loop21.next()) {
  cart_item = loop21.path.clone();
    sum = std.add(sum, getn(cart_item, F_item_total));
  }
  std.path_setv(_M, 1243, std.addr(cart, F_subtot), sum);
  std.path_setv(_M, 1244, std.addr(cart, F_coupon), 0);
  std.path_setv(_M, 1245, std.addr(cart, F_adjustment), 0);
  std.path_setv(_M, 1246, std.addr(cart, F_subtot2), std.add(std.add(getn(cart, F_subtot), getn(cart, F_coupon)), getn(cart, F_adjustment)));
  std.log(std.cat("subtot=", str.to_str(getn(cart, F_subtot), {show_u:Y, digits:0}), ", coupon=", str.to_str(getn(cart, F_coupon), {show_u:Y, digits:0}), ", adj=", str.to_str(
  getn(cart, F_adjustment), {show_u:Y, digits:0}), ", tax=", str.to_str(getn(intf, F_curr_store, std.FOL, F_tax_pct), {show_u:Y, digits:0})));
  std.path_setv(_M, 1248, std.addr(cart, F_tax), std.round(std.mul(std.mul(getn(cart, F_subtot2), getn(intf, F_curr_store, std.FOL, F_tax_pct)), 0.01), { digits:-2 }));
  std.path_setv(_M, 1249, std.addr(cart, F_grand_tot), std.add(getn(cart, F_subtot2), getn(cart, F_tax)));
}


//====================
//   gen_price_ss
//====================
function gen_price_ss(item, sizex) {
  let ss = std.cat("$", str.to_str(getn(item, F_sizes, sizex, F_price), { digits:2, zero_drop:N }));
  if (getn(item, F_sizes, sizex, F_cal) !== U) {
    ss = std.cat(ss, "    ", str.to_str(getn(item, F_sizes, sizex, F_cal), {}), " Cal.");
  }
  return ss;
}


//====================
//   get_issuer_ptr
//====================
function get_issuer_ptr(cardnum) {
  let len = U;
  let issuer = null;
  var loop22 = new std.a_loop({ across:std.addr(ISSUERS) });
  while (loop22.next()) {
  issuer = loop22.path.clone();
    len = str.str_len(gets(issuer, F_prefix));
    if (std.eq2(str.subset(cardnum, { from:1, len:len }), gets(issuer, F_prefix))) {
      return issuer;
    }
  }
  return null;
}


//====================
//   go_mode
//====================
function go_mode(next_mode) {
  std.path_setv(_M, 873, std.addr(intf, F_curr_mode), next_mode);
}


//====================
//   has_customizations
//====================
function has_customizations(item) {
  return N;
}


//====================
//   inputs_to_card
//====================
function inputs_to_card() {
  return std.tree_lit(_M, 2443, F_nickname, VAL, gets(input_nickname, std.F_in_value), F_cardholder, VAL, gets(input_owner, std.F_in_value), F_cardnum, VAL, gets(input_cardnum
  , std.F_in_value), F_zipcode, VAL, gets(input_zipcode, std.F_in_value), F_csc, VAL, gets(input_csc, std.F_in_value), F_expire_mm, VAL, str.to_num(gets(input_expire_mm, std.F_in_value
  )), F_expire_yyyy, VAL, std.add(2000, str.to_num(gets(input_expire_yy, std.F_in_value))));
}


//====================
//   is_card_expired
//====================
function is_card_expired(card) {
  let today = new std.a_tree("foody","today", 0, std.seconds_to_date({}));
  std.log(std.cat("is_card_expired, yy=", str.to_str(getn(card, F_expire_yyyy), {show_u:Y, digits:0}), ", year=", str.to_str(getn(today, std.F_date_year), {show_u:Y, digits:0})
  , ", mm=", str.to_str(getn(card, F_expire_mm), {show_u:Y, digits:0}), ", month=", str.to_str(getn(today, std.F_date_month), {show_u:Y, digits:0})));
  return std.or4(std.gt4(getn(today, std.F_date_year), getn(card, F_expire_yyyy)), std.and4(std.eq4(getn(today, std.F_date_year), getn(card, F_expire_yyyy)), std.gt4(getn(today
  , std.F_date_month), getn(card, F_expire_mm))));
}


//====================
//   is_customizable
//====================
function is_customizable(itemp) {
  return std.or4(std.gt4(std.tree_count(std.addr(itemp, F_ingred)), 0), std.gt4(std.tree_count(std.addr(itemp, F_addons)), 0));
}


//====================
//   is_valid_luhn_checksum
//====================
function is_valid_luhn_checksum(ss) {
  let digit = U;
  let flag = Y;
  let len = str.str_len(ss);
  if (std.lt2(len, 12)) {
    return std.ERR;
  }
  let checksum = 0;
  var loop23 = new std.a_loop({ from:2, to_:len });
  while (loop23.next()) {
  var ix = loop23.index;
    digit = str.str_digit(ss, { from:ix, rev:Y });
    if (isNaN(digit)) {
      return std.ERR;
    }
    if (flag === Y) {
      digit = std.mul(digit, 2);
    }
    flag = std.tog(flag);
    if (std.ge2(digit, 10)) {
      checksum = std.add(checksum, std.add(std.rem(digit, 10, {}), 1));
    } else {
      checksum = std.add(checksum, digit);
    }
  }
  let last = str.str_digit(ss, { from:1, rev:Y });
  if (isNaN(last)) {
    return std.ERR;
  }
  return std.eq4(std.rem(std.add(checksum, last), 10, {}), 0);
}


//====================
//   item_select
//====================
function item_select(key) {
  let subkey = null;
  std.path_setv(_M, 1080, std.addr(intf, F_curr_mode), MODE_ITEM_DETAIL);
  std.path_setv(_M, 1083, std.addr(intf, F_curr_customizing), N);
  std.path_setv(_M, 1086, std.addr(work, F_key), key);
  std.path_setv(_M, 1087, std.addr(work, F_menuitem), std.addr(menu, F_items, key));
  std.path_setv(_M, 1088, std.addr(work, F_sizex), getn(work, F_menuitem, std.FOL, F_default_sizex));
  std.path_setv(_M, 1089, std.addr(work, F_qty), 1);
  reset_work_mods();
}


//====================
//   load_menu
//====================
function load_menu() {
  std.copy_tree(_M, 412, std.table_litP(F_name, F_address, F_tax_pct, F_pic, VAL, "McDonald's", "1234 Macarthur Blvd.", 9.5, STORE_MCD, VAL, "Finfiné Ethiopian Restaurant", 
    "1234 Macarthur Blvd.", 9.5, STORE_FINFINE, VAL, "Chick-Fil A", "1234 Macarthur Blvd.", 9.5, STORE_CHICK, VAL, "Barney's Beanery", "1234 Macarthur Blvd.", 9.5, STORE_BARNEY
    , VAL, "Joe's Diner", "1234 Macarthur Blvd.", 9.5, STORE_JOES), std.addr(g_stores));
  g_nstores = std.tree_count(std.addr(g_stores));
  std.copy_tree(_M, 423, std.table_litP(F_name, F_start_hour, F_end_hour, VAL, std.loc("Breakfast", std.LANG_ENG, _M, 1003), 600, 1000, VAL, std.loc("Lunch", std.LANG_ENG, _M, 
    1004), 1000, 1300, VAL, std.loc("Dinner", std.LANG_ENG, _M, 1005), 1700, 2100), std.addr(timeslots));
  std.path_setv(_M, 430, std.addr(menu, F_version), 1);
  std.path_setv(_M, 431, std.addr(menu, F_release), 1);
  std.copy_tree(_M, 433, std.tree_lit(_M, 433, 1, F_name, VAL, "Deals", POP, 2, F_name, VAL, "Sandwiches & Meals", POP, 3, F_name, VAL, "Sweets & Treats", F_subcats, 1, VAL, 
  "Shakes", 2, VAL, "McFlurry", 3, VAL, "Pies", POP, POP, 4, F_name, VAL, "Happy Meal", POP, 5, F_name, VAL, "Condiments", POP, 6, F_name, VAL, "Fries, Sides & More", F_subcats
  , 1, VAL, "Fries", 2, VAL, "Sides", POP, POP, 7, F_name, VAL, "McCafé", F_subcats, 1, VAL, "Coffee & Classics", 2, VAL, "Frappé", 3, VAL, "Macchiato", POP, POP, 8, F_name, 
  VAL, "McCafé Bakery", POP, 9, F_name, VAL, "Beverages", F_subcats, 1, VAL, "Soft Drinks & Juices", 2, VAL, "Bottled Drinks", 3, VAL, "Slushies", 4, VAL, "Tea, Milk & Juice"
  , POP, POP, 10, F_name, VAL, "$1 $2 $3 Dollar Menu", F_subcats, 1, VAL, "Sandwiches & Meals", 2, VAL, "McCafé", 3, VAL, "Beverages", POP, POP), std.addr(menu, F_categories
  ));
  std.path_setv(_M, 447, std.addr(menu, F_ncats), std.tree_count(std.addr(menu, F_categories)));
  std.copy_tree(_M, 453, std.tree_lit(_M, 453, 1, F_name, VAL, "Sandwiches", F_keys, 1, VAL, "DUBQPCH", 2, VAL, "QPCH", 3, VAL, "CHEE", 4, VAL, "BIGMAC", 5, VAL, "DUBCH", 6, VAL, 
  "QPCHDLX", 7, VAL, "HAM", 8, VAL, "MCD", 9, VAL, "DUBHAM", POP, POP, 2, F_name, VAL, "Chicken", F_keys, 1, VAL, "BUTTCHIK", 2, VAL, "MCCHIK", 3, VAL, "4NUGG", 4, VAL, "6NUGG"
  , 5, VAL, "10NUGG", 6, VAL, "20NUGG", 7, VAL, "40NUGG", POP, POP, 3, F_name, VAL, "Fish", F_keys, 1, VAL, "OFISH", POP, POP), std.addr(menu, F_categories, 2, F_subcats));
  std.copy_tree(_M, 458, std.tree_lit(_M, 458, F_name, VAL, "Big Mac", F_sizes, 1, F_price, VAL, 3.99, F_cal, VAL, 560, POP, POP, F_pic, VAL, PIC_BIGMAC), std.addr(menu, F_items
  , "BIGMAC"));
  std.copy_tree(_M, 459, std.tree_lit(_M, 459, F_name, VAL, "Double Quarter Pounder with Cheese", F_sizes, 1, F_price, VAL, 5.79, F_cal, VAL, 720, POP, POP, F_pic, VAL, PIC_DUBQPCH
  ), std.addr(menu, F_items, "DUBQPCH"));
  std.copy_tree(_M, 460, std.tree_lit(_M, 460, F_name, VAL, "Quarter Pounder with Cheese", F_sizes, 1, F_price, VAL, 4.59, F_cal, VAL, 510, POP, POP, F_pic, VAL, PIC_QPCH), 
  std.addr(menu, F_items, "QPCH"));
  std.copy_tree(_M, 461, std.tree_lit(_M, 461, F_name, VAL, "Quarter Pounder with Cheese Deluxe", F_sizes, 1, F_price, VAL, 4.69, F_cal, VAL, 620, POP, POP), std.addr(menu, 
  F_items, "QPCHDLX"));
  std.copy_tree(_M, 462, std.tree_lit(_M, 462, F_name, VAL, "Double Cheeseburger", F_sizes, 1, F_price, VAL, 1.99, F_cal, VAL, 440, POP, POP), std.addr(menu, F_items, "DUBCH"
  ));
  std.copy_tree(_M, 463, std.tree_lit(_M, 463, F_name, VAL, "Cheeseburger", F_sizes, 1, F_price, VAL, 1.29, F_cal, VAL, 300, POP, POP, F_pic, VAL, PIC_CHEE), std.addr(menu, 
  F_items, "CHEE"));
  std.copy_tree(_M, 464, std.tree_lit(_M, 464, F_name, VAL, "Hamburger", F_name2, VAL, "漢堡包", F_sizes, 1, F_price, VAL, 1, F_cal, VAL, 250, POP, POP), std.addr(menu, F_items
  , "HAM"));
  std.copy_tree(_M, 465, std.tree_lit(_M, 465, F_name, VAL, "McDouble", F_sizes, 1, F_price, VAL, 2.19, F_cal, VAL, 380, POP, POP), std.addr(menu, F_items, "MCD"));
  std.copy_tree(_M, 466, std.tree_lit(_M, 466, F_name, VAL, "Double Hamburger", F_name2, VAL, "双汉堡", F_sizes, 1, F_price, VAL, 1.5, F_cal, VAL, 340, POP, POP), std.addr(menu
  , F_items, "DUBHAM"));
  std.copy_tree(_M, 467, std.tree_lit(_M, 467, F_name, VAL, "Crispy Buttermilk Chicken", F_name2, VAL, "脆皮酪乳鸡", F_sizes, 1, F_price, VAL, 5.29, F_cal, VAL, 600, POP, POP), std.addr(
  menu, F_items, "BUTTCHIK"));
  std.copy_tree(_M, 468, std.tree_lit(_M, 468, F_name, VAL, "McChicken", F_sizes, 1, F_price, VAL, 2, F_cal, VAL, 400, POP, POP), std.addr(menu, F_items, "MCCHIK"));
  std.copy_tree(_M, 469, std.tree_lit(_M, 469, F_name, VAL, "4 Piece McNuggets", F_sizes, 1, F_price, VAL, 1.39, F_cal, VAL, 170, POP, POP), std.addr(menu, F_items, "4NUGG")
  );
  std.copy_tree(_M, 470, std.tree_lit(_M, 470, F_name, VAL, "6 Piece McNuggets", F_sizes, 1, F_price, VAL, 3.39, F_cal, VAL, 250, POP, POP), std.addr(menu, F_items, "6NUGG")
  );
  std.copy_tree(_M, 471, std.tree_lit(_M, 471, F_name, VAL, "10 Piece McNuggets", F_sizes, 1, F_price, VAL, 4.19, F_cal, VAL, 420, POP, POP), std.addr(menu, F_items, "10NUGG"
  ));
  std.copy_tree(_M, 472, std.tree_lit(_M, 472, F_name, VAL, "20 Piece McNuggets", F_sizes, 1, F_price, VAL, 5, F_cal, VAL, 830, POP, POP), std.addr(menu, F_items, "20NUGG"));
  std.copy_tree(_M, 473, std.tree_lit(_M, 473, F_name, VAL, "40 Piece McNuggets", F_sizes, 1, F_price, VAL, 9.49, F_cal, VAL, 1660, POP, POP), std.addr(menu, F_items, "40NUGG"
  ));
  std.copy_tree(_M, 474, std.tree_lit(_M, 474, F_name, VAL, "Filet O Fish", F_sizes, 1, F_price, VAL, 4.19, F_cal, VAL, 380, POP, POP), std.addr(menu, F_items, "OFISH"));
  std.copy_tree(_M, 477, std.tree_lit(_M, 477, 1, F_name, VAL, "Fries", F_keys, 1, VAL, "FRIES", POP, POP, 2, F_name, VAL, "Sides", F_keys, 1, VAL, "OATMEAL", 2, VAL, "APPLE"
  , POP, POP), std.addr(menu, F_categories, 6, F_subcats));
  std.copy_tree(_M, 480, std.tree_lit(_M, 480, F_name, VAL, "Fries", F_pic, VAL, PIC_FRIES, F_ingred, 1, VAL, "SALT", POP, F_default_sizex, VAL, 2, F_sizes, 1, F_name, VAL, 
  "Small", F_price, VAL, 1.79, F_cal, VAL, 220, POP, 2, F_name, VAL, "Medium", F_price, VAL, 2.8, F_cal, VAL, 320, POP, 3, F_name, VAL, "Large", F_price, VAL, 3.09, F_cal, VAL
  , 490, POP, POP), std.addr(menu, F_items, "FRIES"));
  std.copy_tree(_M, 484, std.tree_lit(_M, 484, F_name, VAL, "Oatmeal", F_ingred, 1, VAL, "RAISINS", 2, VAL, "CREAM", POP, F_sizes, 1, F_price, VAL, 2.69, F_cal, VAL, 310, POP
  , POP, F_pic, VAL, PIC_OATMEAL), std.addr(menu, F_items, "OATMEAL"));
  std.copy_tree(_M, 486, std.tree_lit(_M, 486, F_name, VAL, "Apple Slices", F_sizes, 1, F_price, VAL, 0.5, F_cal, VAL, 15, POP, POP, F_pic, VAL, PIC_APPLE), std.addr(menu, F_items
  , "APPLE"));
  var loop24 = new std.a_loop({ across:std.addr(menu, F_items) });
  while (loop24.next()) {
  var ip = loop24.path.clone();
    std.path_setv(_M, 489, std.addr(ip, F_kind), ITEM);
    if (getn(ip, F_default_sizex) === U) {
      std.path_setv(_M, 493, std.addr(ip, F_default_sizex), std.div(std.add(1, std.tree_count(std.addr(ip, F_sizes))), 2));
    }
  }
  std.copy_tree(_M, 497, std.tree_lit(_M, 497, F_pic, VAL, PIC_CRAN, F_kind, VAL, INGRED, F_name, VAL, "Raisins & Cranberries", F_default_sizex, VAL, 2, F_sizes, 1, F_name, 
  VAL, "0", F_price, VAL, 0, F_cal, VAL, 0, POP, 2, F_name, VAL, "1", F_price, VAL, 0, F_cal, VAL, 70, POP, 3, F_name, VAL, "2", F_price, VAL, 0.6, F_cal, VAL, 140, POP, 4, 
  F_name, VAL, "3", F_price, VAL, 1.2, F_cal, VAL, 210, POP, POP), std.addr(menu, F_items, "RAISINS"));
  std.copy_tree(_M, 502, std.tree_lit(_M, 502, F_pic, VAL, PIC_CREAM, F_kind, VAL, INGRED, F_name, VAL, "Cream", F_default_sizex, VAL, 2, F_sizes, 1, F_name, VAL, "0", F_price
  , VAL, 0, F_cal, VAL, 0, POP, 2, F_name, VAL, "1", F_price, VAL, 0, F_cal, VAL, 20, POP, 3, F_name, VAL, "2", F_price, VAL, 0, F_cal, VAL, 40, POP, 4, F_name, VAL, "3", F_price
  , VAL, 0, F_cal, VAL, 60, POP, 5, F_name, VAL, "4", F_price, VAL, 0, F_cal, VAL, 80, POP, 6, F_name, VAL, "5", F_price, VAL, 0, F_cal, VAL, 100, POP, 7, F_name, VAL, "6", 
  F_price, VAL, 0, F_cal, VAL, 120, POP, 8, F_name, VAL, "7", F_price, VAL, 0, F_cal, VAL, 140, POP, POP), std.addr(menu, F_items, "CREAM"));
  std.copy_tree(_M, 511, std.tree_lit(_M, 511, F_pic, VAL, PIC_SALT, F_kind, VAL, INGRED, F_name, VAL, "Salt", F_default_sizex, VAL, 2, F_sizes, 1, F_name, VAL, "None", F_price
  , VAL, 0, F_cal, VAL, 20, POP, 2, F_name, VAL, "Regular", F_price, VAL, 0, F_cal, VAL, 20, POP, 3, F_name, VAL, "Extra", F_price, VAL, 0, F_cal, VAL, 20, POP, POP), std.addr(
  menu, F_items, "SALT"));
}


//====================
//   main_init
//====================
export function main_init() {
  load_menu();
  std.path_setv(_M, 559, std.addr(user, F_user_name), "John Q. Public");
  std.path_setv(_M, 564, std.addr(intf, F_curr_mode), MODE_ITEM_LIST);
  std.path_setv(_M, 565, std.addr(intf, F_curr_lang), std.LANG_ENG);
  std.path_setv(_M, 566, std.addr(intf, F_curr_store), std.addr(g_stores, 1));
  std.path_setv(_M, 569, std.addr(intf, F_curr_cat), 6);
  std.copy_tree(_M, 571, std.tree_lit(_M, 571, F_nickname, VAL, "Chase Sapphire", F_cardholder, VAL, "Tom Jones", F_zipcode, VAL, "90012", F_cardnum, VAL, "4123000022223123"
  , F_csc, VAL, "123", F_expire_mm, VAL, 3, F_expire_yyyy, VAL, 2022), std.addr(cards_on_file, 1));
  std.copy_tree(_M, 572, std.tree_lit(_M, 572, F_nickname, VAL, "Aunt Mary's card", F_cardholder, VAL, "Mary Smith", F_zipcode, VAL, "12345", F_cardnum, VAL, "5123000022226333"
  , F_csc, VAL, "123", F_expire_mm, VAL, 5, F_expire_yyyy, VAL, 2020), std.addr(cards_on_file, 2));
}


//====================
//   next_busy_frame
//====================
function next_busy_frame() {
  std.tree_add(_M, 745, 1, std.addr(intf, F_busy_framex));
  if (std.gt2(getn(intf, F_busy_framex), std.tree_count(std.addr(ANIM_ACTIVITY)))) {
    std.path_setv(_M, 747, std.addr(intf, F_busy_framex), 1);
  }
}


//====================
//   qty_in_cart
//====================
function qty_in_cart(targ_id) {
  let sum = 0;
  var loop25 = new std.a_loop({ across:std.addr(cart, F_cart_items) });
  while (loop25.next()) {
  var item_ptr = loop25.path.clone();
    if ((targ_id === null || std.eq2(gets(item_ptr, F_key), targ_id))) {
      sum = std.add(sum, getn(item_ptr, F_qty));
    }
  }
  return sum;
}


//====================
//   reset_ccard_fields
//====================
function reset_ccard_fields() {
  std.copy_tree(_M, 2613, std.tree_lit(_M, 2613, std.F_in_label, VAL, "nickname", std.F_in_name, VAL, "", std.F_in_value, VAL, "", std.F_in_minlen, VAL, 1, std.F_in_maxlen, 
  VAL, 24, std.F_in_required, VAL, Y, std.F_in_form_ready, VAL, check_card_form_F), std.addr(input_nickname));
  std.copy_tree(_M, 2614, std.tree_lit(_M, 2614, std.F_in_label, VAL, "owner", std.F_in_name, VAL, "", std.F_in_value, VAL, "", std.F_in_minlen, VAL, 2, std.F_in_maxlen, VAL
  , 24, std.F_in_required, VAL, Y, std.F_in_form_ready, VAL, check_card_form_F), std.addr(input_owner));
  std.copy_tree(_M, 2615, std.tree_lit(_M, 2615, std.F_in_label, VAL, "zipcode", std.F_in_name, VAL, "", std.F_in_value, VAL, "", F_kind, VAL, std.IN_NUMBER, std.F_in_pattern
  , VAL, ZIPCODE, std.F_in_minlen, VAL, 5, std.F_in_maxlen, VAL, 5, std.F_in_required, VAL, N, std.F_in_required, VAL, N, std.F_in_ok, VAL, Y, std.F_in_form_ready, VAL, check_card_form_F
  ), std.addr(input_zipcode));
  std.copy_tree(_M, 2616, std.tree_lit(_M, 2616, std.F_in_label, VAL, "cardnum", std.F_in_name, VAL, "", std.F_in_value, VAL, "", F_kind, VAL, std.IN_NUMBER, std.F_in_pattern
  , VAL, CREDITCARD, std.F_in_keyboard, VAL, "numeric", std.F_in_minlen, VAL, 15, std.F_in_maxlen, VAL, 16, std.F_in_required, VAL, Y, std.F_in_form_ready, VAL, check_card_form_F
  ), std.addr(input_cardnum));
  std.copy_tree(_M, 2617, std.tree_lit(_M, 2617, std.F_in_label, VAL, "expire_mm", std.F_in_name, VAL, "", std.F_in_value, VAL, "", std.F_in_hint, VAL, "mm", F_kind, VAL, std.IN_NUMBER
  , std.F_in_pattern, VAL, MONTH, std.F_in_keyboard, VAL, "numeric", std.F_in_minlen, VAL, 1, std.F_in_maxlen, VAL, 2, std.F_in_required, VAL, Y, std.F_in_form_ready, VAL, check_card_form_F
  ), std.addr(input_expire_mm));
  std.copy_tree(_M, 2618, std.tree_lit(_M, 2618, std.F_in_label, VAL, "expire_yy", std.F_in_name, VAL, "", std.F_in_value, VAL, "", std.F_in_hint, VAL, "yy", F_kind, VAL, std.IN_NUMBER
  , std.F_in_pattern, VAL, CARDINAL, std.F_in_keyboard, VAL, "numeric", std.F_in_minlen, VAL, 2, std.F_in_maxlen, VAL, 2, std.F_in_required, VAL, Y, std.F_in_form_ready, VAL
  , check_card_form_F), std.addr(input_expire_yy));
  std.copy_tree(_M, 2619, std.tree_lit(_M, 2619, std.F_in_label, VAL, "csc", std.F_in_name, VAL, "", std.F_in_value, VAL, "", F_kind, VAL, std.IN_NUMBER, std.F_in_pattern, VAL
  , CARDINAL, std.F_in_keyboard, VAL, "numeric", std.F_in_minlen, VAL, 3, std.F_in_maxlen, VAL, 4, std.F_in_required, VAL, Y, std.F_in_form_ready, VAL, check_card_form_F), std.addr(
  input_csc));
}


//====================
//   reset_work_mods
//====================
function reset_work_mods() {
  let modx = 1;
  var loop26 = new std.a_loop({ across:std.addr(work, F_menuitem, std.FOL, F_ingred) });
  while (loop26.next()) {
  var subkey = loop26.val;
    std.copy_tree(_M, 1101, std.tree_lit(_M, 1101, F_kind, VAL, INGRED_MOD, F_key, VAL, subkey, F_sizex, VAL, getn(menu, F_items, subkey, F_default_sizex), F_cost, VAL, 0), std.addr(
    work, F_mods, modx));
    modx = std.add(modx, 1);
  }
  var loop27 = new std.a_loop({ across:std.addr(work, F_menuitem, std.FOL, F_addons) });
  while (loop27.next()) {
  var subkey = loop27.val;
    std.copy_tree(_M, 1107, std.tree_lit(_M, 1107, F_kind, VAL, ADDON_MOD, F_key, VAL, subkey, F_sizex, VAL, getn(menu, F_items, subkey, F_default_sizex), F_cost, VAL, 0), std.addr(
    work, F_mods, modx));
    modx = std.add(modx, 1);
  }
}


//====================
//   toggle_busy
//====================
function toggle_busy() {
  std.toggle(_M, 751, std.addr(intf, F_busy_running));
  if (getn(intf, F_busy_running) === Y) {
    std.path_setv(_M, 753, std.addr(intf, F_busy_framex), 1);
    std.path_setv(_M, 755, std.addr(intf, F_busy_id), std.loom_timer(next_busy_frame_F, { delay:std.meas(std.div(1, 12), std.N_sec, std.Y_Time), rate:12, reps:100000 }));
  } else {
    std.loom_clear({ id:getn(intf, F_busy_id) });
  }
}


//====================
//   addcard_cardnum_2362
//====================
function addcard_cardnum_2362(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Card number", std.LANG_ENG, _M, 1040), { size:0.6, just:std.RIGHT, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   addcard_cardnum_2365
//====================
function addcard_cardnum_2365(b) {
k.k_enter(b);
  std.draw_input(b, addr(b.extra, std.F_box), std.addr(input_cardnum), { show_star:Y, size:0.7, indent:std.pt_to_dots(b, 2), color:C_ENTRY_LO_TEXT, border:std.pt_to_dots(b, 
  ENTRYBORD), border_color:C_ENTRY_LO_BORD, fill:C_ENTRY_LO_BACK });
k.k_leave(b);
}


//====================
//   addcard_cardnum_2368
//====================
function addcard_cardnum_2368(b) {
k.k_enter(b);
  if (std.get_ptr(intf, F_curr_issuer) !== null) {
    std.draw_image(b, std.addr(b.extra, std.F_box), std.get_image(intf, F_curr_issuer, std.FOL, F_icon), {});
  }
k.k_leave(b);
}


//====================
//   addcard_expire_2376
//====================
function addcard_expire_2376(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Expires", std.LANG_ENG, _M, 1041), { size:0.6, just:std.RIGHT, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   addcard_expire_2379
//====================
function addcard_expire_2379(b) {
k.k_enter(b);
  std.draw_input(b, addr(b.extra, std.F_box), std.addr(input_expire_mm), { show_star:Y, size:0.7, indent:std.pt_to_dots(b, 2), color:C_ENTRY_LO_TEXT, border:std.pt_to_dots(b
  , ENTRYBORD), border_color:C_ENTRY_LO_BORD, fill:C_ENTRY_LO_BACK });
k.k_leave(b);
}


//====================
//   addcard_expire_2381
//====================
function addcard_expire_2381(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), "/", { size:0.9, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   addcard_expire_2383
//====================
function addcard_expire_2383(b) {
k.k_enter(b);
  std.draw_input(b, addr(b.extra, std.F_box), std.addr(input_expire_yy), { show_star:Y, size:0.7, indent:std.pt_to_dots(b, 2), color:C_ENTRY_LO_TEXT, border:std.pt_to_dots(b
  , ENTRYBORD), border_color:C_ENTRY_LO_BORD, fill:C_ENTRY_LO_BACK });
k.k_leave(b);
}


//====================
//   addcard_expire_2385
//====================
function addcard_expire_2385(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Code", std.LANG_ENG, _M, 1042), { size:0.6, just:std.RIGHT, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   addcard_expire_2388
//====================
function addcard_expire_2388(b) {
k.k_enter(b);
  std.draw_input(b, addr(b.extra, std.F_box), std.addr(input_csc), { show_star:Y, size:0.7, indent:std.pt_to_dots(b, 2), color:C_ENTRY_LO_TEXT, border:std.pt_to_dots(b, ENTRYBORD
  ), border_color:C_ENTRY_LO_BORD, fill:C_ENTRY_LO_BACK });
k.k_leave(b);
}


//====================
//   addcard_footer_2405
//====================
function addcard_footer_2405(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.eq2(getn(intf, F_curr_mode), MODE_ADDCARD) ? std.loc("Enter new card info", std.LANG_ENG, _M, 1043) : std.loc("Update card on file"
  , std.LANG_ENG, _M, 1044), { size:0.5, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   addcard_nickname_2330
//====================
function addcard_nickname_2330(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Card nickname", std.LANG_ENG, _M, 1036), { size:0.6, just:std.RIGHT, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   addcard_nickname_2333
//====================
function addcard_nickname_2333(b) {
k.k_enter(b);
  std.draw_input(b, addr(b.extra, std.F_box), std.addr(input_nickname), { show_star:Y, size:0.7, indent:std.pt_to_dots(b, 2), color:C_ENTRY_LO_TEXT, border:std.pt_to_dots(b, 
  ENTRYBORD), border_color:C_ENTRY_LO_BORD, fill:C_ENTRY_LO_BACK });
k.k_leave(b);
}


//====================
//   addcard_owner_2340
//====================
function addcard_owner_2340(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Name on card", std.LANG_ENG, _M, 1037), { size:0.6, just:std.RIGHT, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   addcard_owner_2343
//====================
function addcard_owner_2343(b) {
k.k_enter(b);
  std.draw_input(b, addr(b.extra, std.F_box), std.addr(input_owner), { show_star:Y, size:0.7, indent:std.pt_to_dots(b, 2), color:C_ENTRY_LO_TEXT, border:std.pt_to_dots(b, ENTRYBORD
  ), border_color:C_ENTRY_LO_BORD, fill:C_ENTRY_LO_BACK });
k.k_leave(b);
}


//====================
//   addcard_zipcode_2350
//====================
function addcard_zipcode_2350(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Billing zipcode", std.LANG_ENG, _M, 1038), { size:0.6, just:std.RIGHT, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   addcard_zipcode_2353
//====================
function addcard_zipcode_2353(b) {
k.k_enter(b);
  std.draw_input(b, addr(b.extra, std.F_box), std.addr(input_zipcode), { show_star:Y, size:0.7, indent:std.pt_to_dots(b, 2), color:C_ENTRY_LO_TEXT, border:std.pt_to_dots(b, 
  ENTRYBORD), border_color:C_ENTRY_LO_BORD, fill:C_ENTRY_LO_BACK });
k.k_leave(b);
}


//====================
//   addcard_zipcode_2355
//====================
function addcard_zipcode_2355(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("(first 5 digits)", std.LANG_ENG, _M, 1039), { size:0.6, just:std.LEFT, italic:Y, indent:std.pt_to_dots(b, 3), color:
  C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   butt_view_cart_898
//====================
function butt_view_cart_898(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Cart  ⮕", std.LANG_ENG, _M, 1009), { size:0.6, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   cart_footer_1843
//====================
function cart_footer_1843(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Shopping Cart", std.LANG_ENG, _M, 1020), { size:0.5, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   d_cart_subtot_1631
//====================
function d_cart_subtot_1631(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), "Subtotal:", { just:std.RIGHT, indent:std.pt_to_dots(b, 4), size:0.6, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_cart_subtot_1633
//====================
function d_cart_subtot_1633(b) {
k.k_enter(b);
  std.draw_line(b, { x1:0, y1:0, x2:b.bounds.width, y2:0, thick:std.pt_to_dots(b, 2), color:C_ITEM_TEXT });
  std.draw_str(b, std.addr(b.extra, std.F_box), std.cat("$", str.to_str(getn(cart, F_subtot), { digits:2, zero_drop:N })), { size:0.6, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_cartrow_qty_1794
//====================
function d_cartrow_qty_1794(b, item) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.cat(std.loc("Qty ", std.LANG_ENG, _M, 1015), str.to_str(getn(item, F_qty), {})), { size:0.7, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_cartrow_upper_1697
//====================
function d_cartrow_upper_1697(b, item) {
k.k_enter(b);
  let ss = gen_cart_item_desc(item);
  std.draw_str(b, std.addr(b.extra, std.F_box), ss, { just:std.LEFT, size:0.7, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_cat_footer_842
//====================
function d_cat_footer_842(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Choose a category", std.LANG_ENG, _M, 1007), { size:0.5, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   d_desc1_1155
//====================
function d_desc1_1155(b, item) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), gets(item, F_name), { just:std.LEFT, size:0.8, bold:Y, color:C_ITEM_TEXT, font:ITEM_FONT });
k.k_leave(b);
}


//====================
//   d_desc1_1160
//====================
function d_desc1_1160(b, item) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), gets(item, F_name2), { just:std.LEFT, size:0.8, color:C_ITEM_TEXT, font:ITEM_FONT });
k.k_leave(b);
}


//====================
//   d_det_desc2_1484
//====================
function d_det_desc2_1484(b) {
k.k_enter(b);
  let prefix = std.gt2(std.tree_count(std.addr(work, F_menuitem, std.FOL, F_sizes)), 1) ? std.cat("", gets(work, F_menuitem, std.FOL, F_sizes, getn(work, F_sizex), F_name), 
  " ") : "";
  std.draw_str(b, std.addr(b.extra, std.F_box), std.cat(prefix, gets(work, F_menuitem, std.FOL, F_name)), { just:std.LEFT, size:0.7, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_det_desc2_1487
//====================
function d_det_desc2_1487(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), gen_price_ss(std.get_ptr(work, F_menuitem), getn(work, F_sizex)), { just:std.LEFT, size:0.7, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_det_desc_1470
//====================
function d_det_desc_1470(b) {
k.k_enter(b);
  std.draw_image(b, std.addr(b.extra, std.F_box), std.get_image(work, F_menuitem, std.FOL, F_pic), { corner:std.pt_to_dots(b, 4) });
k.k_leave(b);
}


//====================
//   d_item_row_1127
//====================
function d_item_row_1127(b, item) {
k.k_enter(b);
  std.draw_image(b, std.addr(b.extra, std.F_box), std.get_image(item, F_pic), { corner:std.pt_to_dots(b, 4) });
k.k_leave(b);
}


//====================
//   d_lang_row_1884
//====================
function d_lang_row_1884(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Language:", std.LANG_ENG, _M, 1023), { just:std.RIGHT, indent:std.pt_to_dots(b, 2), size:0.6, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   d_mod_list_qty_1685
//====================
function d_mod_list_qty_1685(b, item) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.cat("$", str.to_str(getn(item, F_item_total), { digits:2, zero_drop:N })), { size:0.55, color:C_ITEM_TEXT });
k.k_leave(b);
}


//====================
//   d_qty_label_1493
//====================
function d_qty_label_1493(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.cat(std.loc("Qty ", std.LANG_ENG, _M, 1015), str.to_str(getn(work, F_qty), {})), { size:0.7, vert:0.6, color:C_ITEM_TEXT }
  );
k.k_leave(b);
}


//====================
//   d_settings_body_1877
//====================
function d_settings_body_1877(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.cat("Foody version ", VERSION), { size:0.6, color:std.BEIGE });
k.k_leave(b);
}


//====================
//   itemlist_footer_821
//====================
function itemlist_footer_821(b, category) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), category, { size:0.5, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   payment_footer_2744
//====================
function payment_footer_2744(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Please choose a card", std.LANG_ENG, _M, 1054), { size:0.5, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   settings_footer_1867
//====================
function settings_footer_1867(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Settings panel", std.LANG_ENG, _M, 1022), { size:0.5, color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   submit_body_2760
//====================
function submit_body_2760(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), "SUBMIT AREA", { size:std.pt_to_dots(b, 14), color:C_BUTT_TEXT });
k.k_leave(b);
}


//====================
//   submit_footer_2772
//====================
function submit_footer_2772(b) {
k.k_enter(b);
  std.draw_str(b, std.addr(b.extra, std.F_box), std.loc("Final confirmation of order", std.LANG_ENG, _M, 1055), { size:0.5, color:C_BUTT_TEXT });
k.k_leave(b);
}

main_init();
k.rebuild_all();

</script>
</body>
</html>
